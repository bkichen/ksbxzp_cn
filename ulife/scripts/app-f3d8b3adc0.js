!function(){"use strict";angular.module("app",["ui.router","ui.bootstrap","ngFileUpload"])}(),function(){"use strict";function e(e,t,CONFIG,CommonRequest,a,n,i,s){var o=this;o.login=function(e,t){var a=!1;if(e){var n=CryptoJS.SHA1(e.password).toString(),i={cretNo:e.userName,password:n,imageCode:e.code,random:e.random,verToken:e.verToken};CommonRequest.request(i,CONFIG.LOGIN_SERVICE,function(e){1==e.status?(o.storeUserData(e),sessionStorage.setItem("ulife-loginStatus",1),a=!0):angular.isFunction(t)&&t(a)})}},o.loginByPhone=function(e,t){if(e){var a={phoneNo:e.phone,phoneIdCode:e.phoneCode,CCBSBCODE:"CCBSB101",verToken:e.verToken};CommonRequest.request(a,CONFIG.LOGIN_BYPHONE_SERVICE,function(e){1==e.status?(o.storeUserData(e),sessionStorage.setItem("ulife-loginStatus",2)):angular.isFunction(t)&&t()})}},o.loginByWechat=function(e){var t={thirtyCode:e};CommonRequest.request(t,CONFIG.WECHAT_LOGIN_SERVCIE,function(e){1==e.status&&(o.storeUserData(e),sessionStorage.setItem("ulife-loginStatus",3),s.location.reload())})},o.wechatModal=function(){var e=a.open({templateUrl:"app/module/user/login/wechat-login/wechat-login.html",controller:"WeChatLoginController",controllerAs:"wechat",size:"sm",resolve:{check:function(){return o.checkContract}}});e.result.then(function(e){o.checkContract=e},function(){})},o.logout=function(){if(confirm(e.TIPS.USER.LOGOUT.USER_LOGOUT_CONFIRM)){if(e.isLogin=!1,sessionStorage){sessionStorage.removeItem("ulife-login"),sessionStorage.removeItem("ulife-loginStatus"),sessionStorage.removeItem("elife-userData");var a=e.userData.cusId||"";sessionStorage.removeItem("elife-spbHref-"+a)}var n={};CommonRequest.request(n,CONFIG.LOGINOUT_SERVICE,function(a){1==a.status&&(e.userData=null,t.go("login"))})}},o.storeUserData=function(a){a.data.birthday=n("date")(a.data.birthday,"yyyyMMdd"),e.isLogin=!0,e.userData=a.data,sessionStorage&&(sessionStorage.setItem("ulife-login",1),sessionStorage.setItem("elife-userData",angular.toJson(a.data))),e.loginGo?t.go(e.loginGo):(t.go("home"),e.loginGo=null),"800"==CONFIG.SALE_CHANNEL&&i.getSpecialBusiness(function(t){if(t){var a=e.userData.cusId||"";e.spbHref=t,sessionStorage.setItem("elife-spbHref-"+a,t)}})}}angular.module("app").service("LoginService",e),e.$inject=["$rootScope","$state","CONFIG","CommonRequest","$uibModal","$filter","BranchOfficeService","$window"]}(),function(){"use strict";function e(e,t,a,CommonRequest,CONFIG){var n=this;n.tab=1,n.txCode="CCBSB101",n.tabSwitch=function(e){e&&(n.tab=e)},n.getAgain=0,n.submit=function(){n.getVerToken(function(){var e={};1==n.tab?(e={userName:n.username,password:n.password,code:n.code,random:n.random,verToken:n.verToken},a.login(e,function(e){e||n.getimg(),n.getVerToken()})):(e={phone:n.phone,phoneCode:n.phoneCode,verToken:n.verToken},a.loginByPhone(e,function(){n.getVerToken()}))})},n.wechatLogin=function(){a.wechatModal()},n.random=Date.parse(new Date)+Math.random(8),n.imgpath=CONFIG.SERVICE_ADDRESS+"new/ImgVerifyCode?random="+n.random,n.getimg=function(){n.code="",n.random=Date.parse(new Date)+Math.random(8),n.imgpath=CONFIG.SERVICE_ADDRESS+"new/ImgVerifyCode?random="+n.random};var i=e;i.$on("send-result",function(e,t){var a=t.result;a||n.getimg()}),n.getAD=function(){var e={channel:"800",position:1};CommonRequest.request(e,CONFIG.GET_LOGIN_AD_SERVICE,function(e){if(1==e.status)for(var t=e.data,a=t.length-1;a>=0;a--){var i=t[a];1==i.isUsed&&i.path&&(n.loginBg=CONFIG.IMAGE_SERVICE_ADDRESS+i.path)}})},n.getAD(),n.getVerToken=function(e){CommonRequest.request({},CONFIG.GET_VERTOKEN_SERVICE,function(t){"1"==t.status&&(n.verToken=t.data.verToken,angular.isFunction(e)&&e())})},n.getVerToken()}angular.module("app").controller("LoginController",e),e.$inject=["$rootScope","$state","LoginService","CommonRequest","CONFIG"]}(),function(){"use strict";function e(e,t,CommonRequest,CONFIG,a,TipService,n,i,$timeout,s,o,r,l,c){var u=this,d=a.getSessionData();if(u.asideNavForShow=!0,u.loginJust=!0,u.differentPasswordInfo=!1,u.platformUnlock=!0,u.alertInfoForShow=!1,u.sendSignInfoButton=!0,u.userInfo=d.userData,u.agenctType=u.userInfo.agenctType,u.realName=u.userInfo.realName,u.username=u.userInfo.username,u.userid=u.userInfo.userid,u.currentPage=1,u.showPage=10,u.totalPage=0,u.pageList=[10,20,30],u.nowDate=new Date,u.minStartTime=u.minendTime=new Date(u.nowDate.getTime()-31536e7),u.minReceiveDate=new Date(u.nowDate.getTime()-1728e5),u.maxStartTime=u.maxReceiveDate=u.maxendTime=u.nowDate,u.newContractEndTime=new Date,u.newContractStartTime=new Date(u.newContractEndTime),u.newContractStartTime.setMonth(u.newContractEndTime.getMonth()-1),u.problemSearchEndTime=new Date,u.problemSearchStartTime=new Date(u.problemSearchEndTime),u.problemSearchStartTime.setMonth(u.problemSearchEndTime.getMonth()-1),u.hideAsideNav=function(){var e=document.getElementById("center-box");u.asideNavForShow=!u.asideNavForShow,u.asideNavForShow?e.style.width="70%":e.style.width="96%"},sessionStorage){var p=sessionStorage.getItem("elife-login");if(1==p){s.isLogin=!0,s.userData=angular.fromJson(sessionStorage.getItem("elife-userData"));var g=s.userData.cusId||"";s.spbHref=sessionStorage.getItem("elife-spbHref-"+g)}}u.changePage=function(){$timeout(function(){u.queryIssueDisposeAll(u.typeFlag)},300)},u.jumpPageNo="",u.jumpPage=function(){var e=/^\d+$/;return!e.test(u.jumpPageNo)||u.jumpPageNo>u.totalPage?void TipService.showMsg("请输入正确的页数！"):void(u.jumpPageNo&&(u.currentPage=u.jumpPageNo,u.changePage()))},s.$on("tip-done",function(e,t){"处理成功"==t.msg&&"4"==u.funcForShow&&u.queryIssueDisposeAll("search")}),CommonRequest.request({},CONFIG.NEWQUERYNEWCC_SERVICE,function(e){1==e.status&&(s.newQueryNewCC=e.data)}),u.changeCenterContent=function(e){u.newContractProductNo="",u.receivePolicyNo="",u.receiveConfirmPolicyNo="",u.problemSearchProductNo="",u.pingName="",u.pingUserCode="",u.pingId="",u.platformUnlock=!0,u.resetChangePasswordInfo(),u.loginJust=!1,u.funcForShow=e;var t={realName:u.realName,userCode:u.userInfo.userCode,Website:u.userInfo.website,idNo:u.userInfo.IdNo,parentid:u.userInfo.parentid,agenctType:u.agenctType};"4"==e?(CommonRequest.request(t,CONFIG.ISSUEDISPOSE_CONDITIONS,function(e){if(u.problemPolicyList=void 0,u.newProblemNameList=void 0,u.branchCodeone=e.data[0].branchCode,"1"==e.status){u.newProblemNameList=[],u.problemSearchNameList=[];var t=e.data,a={value:"",realName:u.problemMyName,userCode:"全部",website:"全部",idNo:""};u.problemSearchNameList.push(a);for(var n=0;n<t.length;n++){for(var i=!0,s=n+1;s<t.length;s++)if(t[n].idNo==t[s].idNo){i=!1;break}if(i){var o={realName:t[n].realName,idNo:t[n].idNo};u.newProblemNameList.push(o),u.problemMyName=u.newProblemNameList[0]}if(u.problemMyName&&u.problemMyName.idNo==t[n].idNo){var r={value:n,realName:e.data[n].realName,userCode:e.data[n].userCode,website:e.data[n].website,idNo:e.data[n].idNo};u.problemSearchNameList.push(r),u.problemSearchInfo=u.problemSearchNameList,u.problemSearchUserCode=u.problemSearchWebsite=u.problemSearchInfo[0]}}}else"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):"0"==e.status&&TipService.showMsg("获取信息失败~")}),$timeout(function(){u.queryIssueDisposeAll("search")},300)):"3"==e?CommonRequest.request({},CONFIG.SIGNINFO_TORECEIVE,function(e){"1"==e.status?u.sendSignInfoButton=!1:"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):"0"==e.status&&(u.sendSignInfoButton=!0,TipService.showMsg(e.error.message))}):"2"==e&&(CommonRequest.request(t,CONFIG.HISTORYSEARCH_CONDITIONS,function(e){if(u.newResultNameList=void 0,u.newContractInfoList=void 0,"1"==e.status){u.newResultNameList=[],u.newContractInfoList=[];var t=e.data,a={value:"",realName:u.newMyName,userCode:"全部",website:"全部",idNo:""};u.newContractInfoList.push(a);for(var n=0;n<t.length;n++){for(var i=!0,s=n+1;s<t.length;s++)if(t[n].idNo==t[s].idNo){i=!1;break}if(i){var o={realName:t[n].realName,idNo:t[n].idNo};u.newResultNameList.push(o),u.newMyName=u.newResultNameList[0]}if(u.newMyName&&u.newMyName.idNo==t[n].idNo){var r={value:n,realName:e.data[n].realName,userCode:e.data[n].userCode,website:e.data[n].website,idNo:e.data[n].idNo};u.newContractInfoList.push(r),u.newContractInfo=u.newContractInfoList,u.newContractUserCode=u.newContractWebsite=u.newContractInfo[0]}}}else"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):"0"==e.status&&TipService.showMsg("获取信息失败~")}),$timeout(function(){u.queryIssueDisposeAll("contract")},300))},e.$watch("salePubsearch.newMyName",function(e,t){if(e!=t){u.newMyName=e;var a={realName:u.realName,userCode:u.userInfo.userCode,Website:u.userInfo.website,idNo:u.userInfo.IdNo,parentid:u.userInfo.parentid,agenctType:u.agenctType};CommonRequest.request(a,CONFIG.HISTORYSEARCH_CONDITIONS,function(e){if("1"==e.status){u.newContractInfoList=[];var t=e.data,a={value:"",realName:u.newMyName,userCode:"全部",website:"全部",idNo:""};u.newContractInfoList.push(a);for(var n=0;n<t.length;n++)if(u.newMyName&&u.newMyName.idNo==t[n].idNo){var i={value:n,realName:e.data[n].realName,userCode:e.data[n].userCode,website:e.data[n].website,idNo:e.data[n].idNo};u.newContractInfoList.push(i),u.newContractInfo=u.newContractInfoList,u.newContractUserCode=u.newContractWebsite=u.newContractInfo[0]}}else"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):"0"==e.status&&TipService.showMsg("获取信息失败~")})}}),e.$watch("salePubsearch.problemMyName",function(e,t){if(e!=t){u.problemMyName=e;var a={realName:u.realName,userCode:u.userInfo.userCode,Website:u.userInfo.website,idNo:u.userInfo.IdNo,parentid:u.userInfo.parentid,agenctType:u.agenctType};CommonRequest.request(a,CONFIG.ISSUEDISPOSE_CONDITIONS,function(e){if("1"==e.status){u.problemSearchNameList=[];var t=e.data,a={value:"",realName:u.problemMyName,userCode:"全部",website:"全部",idNo:""};u.problemSearchNameList.push(a);for(var n=0;n<t.length;n++)if(u.problemMyName&&u.problemMyName.idNo==t[n].idNo){var i={value:n,realName:e.data[n].realName,userCode:e.data[n].userCode,website:e.data[n].website,idNo:e.data[n].idNo};u.problemSearchNameList.push(i),u.problemSearchInfo=u.problemSearchNameList,u.problemSearchUserCode=u.problemSearchWebsite=u.problemSearchInfo[0]}}else"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):"0"==e.status&&TipService.showMsg("获取信息失败~")})}}),u.sendSignInfo=function(){var e={productno:u.receivePolicyNo,reProductno:u.receiveConfirmPolicyNo,idNo:u.userInfo.IdNo,signDate:r("date")(u.receiveDate,"yyyy-MM-dd hh:mm:ss"),userCode:u.userInfo.userCode};CommonRequest.request(e,CONFIG.SIGNINFO_SENDSIGNINFO,function(e){1==e.status?TipService.showMsg("签收成功"):"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):0==e.status&&TipService.showMsg(e.error.message)})},u.resetignInfo=function(){u.receivePolicyNo="",u.receiveConfirmPolicyNo="",u.receiveDate=""},u.passwordChange=function(){var e={username:u.username,password:u.oldPassword,newPassword:u.newPassword,surePassword:u.newPasswordConfirm};CommonRequest.request(e,CONFIG.PASSWPRD_CHANGE,function(e){1==e.status?(TipService.showMsg("修改成功"),s.$on("tip-done",function(e,t){"修改成功"==t.msg&&(sessionStorage.removeItem("elife-login"),s.isLogin=!1,a.removeSessionData(["userData"]),n.go("login"))})):"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):0==e.status&&TipService.showMsg(e.error.message)})},u.resetChangePasswordInfo=function(){u.oldPassword="",u.newPassword="",u.newPasswordConfirm=""},u.loginExitConfirm=function(){u.alertInfoForShow=!0},u.loginExitCancel=function(){u.alertInfoForShow=!1},u.loginExit=function(){var e={username:u.username,userid:u.userid};CommonRequest.request(e,CONFIG.LOGIN_EXIT,function(e){1==e.status||"X15000000000000"==e.error.code?(sessionStorage.removeItem("elife-login"),s.isLogin=!1,a.removeSessionData(["userData"]),n.go("login")):0==e.status&&TipService.showMsg("退出失败")})},u.searchUser=function(){var e={realName:u.pingName,userCode:u.pingUserCode,idNo:u.pingId};CommonRequest.request(e,CONFIG.PLATFORMUNLOCK_SEARCHUSER,function(e){1==e.status?(u.platformUnlock=!1,u.enabled=e.data.enabled,u.branchCode=e.data.branchCode,u.pingId=e.data.idNo,u.realName=e.data.pingName,u.userCode=e.data.userCode):"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.error.message)})},u.clearSearchUser=function(){u.pingName="",u.pingUserCode="",u.pingId=""},u.platFormUnlockServe=function(e){var t={realName:u.pingName,userCode:u.pingUserCode,idNo:u.pingId,enabled:u.enabled,branchCode:u.branchCode};"1"==e?CommonRequest.request(t,CONFIG.PLATFORMUNLOCK_RESETPASS,function(e){1==e.status?TipService.showMsg("重置成功！"):"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.message.error)}):"2"==e?CommonRequest.request(t,CONFIG.PLATFORMUNLOCK_SAVEUESR,function(e){1==e.status?TipService.showMsg(e.data):"X15000000000000"==e.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.message.error)}):"3"==e&&(u.platformUnlock=!0)},u.changeSearchInfoForShow=function(e,t){"contract"==t?(u.newContractWebsite=e,u.newContractUserCode=e):"search"==t&&(u.problemSearchWebsite=e,u.problemSearchUserCode=e)},u.queryIssueDisposeAll=function(e){var t,a;return u.problemPolicyList=void 0,"undefined"==typeof u.newContractStartTime&&"undefined"==typeof u.newContractEndTime?(alert("请输入承保范围！"),!1):"undefined"==typeof u.newContractStartTime?(alert("请输入承保开始日期！"),!1):"undefined"==typeof u.newContractEndTime?(alert("请输入承保结束日期！"),!1):"undefined"==typeof u.problemSearchStartTime&&"undefined"==typeof u.problemSearchEndTime?(alert("请输入承保范围！"),!1):"undefined"==typeof u.problemSearchStartTime?(alert("请输入承保开始日期！"),!1):"undefined"==typeof u.problemSearchEndTime?(alert("请输入承保结束日期！"),!1):("contract"==e?(t={parentId:u.userInfo.parentid,idNo:u.newMyName.idNo,realName:u.newMyName.realName,userCode:"全部"==u.newContractUserCode.userCode?"":u.newContractUserCode.userCode,productno:u.newContractProductNo,signStartDate:r("date")(u.newContractStartTime,"yyyy-MM-dd"),signEndDate:r("date")(u.newContractEndTime,"yyyy-MM-dd"),pageJump:u.currentPage,recInPage:u.showPage},a="Y"==s.newQueryNewCC?CONFIG.NEWHISTORYSEARCH_SEARCHPOLICY:CONFIG.HISTORYSEARCH_SEARCHPOLICY):"search"==e&&(t={parentId:u.userInfo.parentid,idNo:u.problemMyName.idNo,agenctType:u.agenctType,userCode:"全部"==u.problemSearchUserCode.userCode?"":u.problemSearchUserCode.userCode,website:"全部"==u.problemSearchUserCode.website?"":u.problemSearchUserCode.website,realName:u.problemMyName.realName,branchCode:u.branchCodeone,productno:u.problemSearchProductNo,currentPageIndex:1e3,pageSize:1e3,signStartDate:r("date")(u.problemSearchStartTime,"yyyy-MM-dd"),signEndDate:r("date")(u.problemSearchEndTime,"yyyy-MM-dd"),pageJump:u.currentPage,recInPage:u.showPage},a="Y"==s.newQueryNewCC?CONFIG.NEWISSUEDISPOSE_QUERYLSSUEDISPOSEALL:CONFIG.ISSUEDISPOSE_QUERYLSSUEDISPOSEALL),void CommonRequest.request(t,a,function(t){if(c.info(t.data),u.typeFlag=e,u.totalPage=0,u.totalItems=0,1==t.status&&t.data){u.problemPolicyList=[],u.jumpPageNo="",u.totalItems=t.data[0].totalRec,u.totalPage=Math.ceil(Number(u.totalItems)/Number(u.showPage));for(var a=0;a<t.data.length;a++)if(u.problemPolicyList.push(t.data[a]),"search"==e&&"Y"==s.newQueryNewCC){u.problemTelArr=[];for(var n=t.data[a].problemTelArr.split(","),i=0;i<n.length;i++)u.problemTelArr.push({tel:n[i]});u.problemPolicyList[a].problemTelArr=u.problemTelArr}c.info(u.problemPolicyList)}else"X15000000000000"==t.error.code?(u.loginExit(),TipService.showMsg("登陆失效")):t.error&&TipService.showMsg(t.error.message)}))},u.showProblemConfirmHtml=function(t,n,i){var s=l.open({templateUrl:"app/module/main/problem-handle-confirm/problem-handle-confirm.html",controller:"ProblemHandleConfirmController",controllerAs:"problemHandleConfirm",scope:e,size:"md",resolve:{changeDetail:function(){var e={indexNo:t,productno:n,currentPageIndex:1e3,realName:u.problemSearchUserCode.realName,userCode:i,signStartDate:r("date")(u.problemSearchStartTime,"yyyy-MM-dd"),signEndDate:r("date")(u.problemSearchEndTime,"yyyy-MM-dd")};return a.control({state:"policy-change",control:"data",data:e}),e}}});s.result.then(function(e){u.checkContract=e},function(){c.info("Modal dismissed at: "+new Date)})},u.seeNewContractHtml=function(t){var n=l.open({templateUrl:"app/module/main/new-contract-info/new-contract-info.html",controller:"NewContractInfoController",controllerAs:"newContractInfo",scope:e,size:"md",resolve:{changeDetail:function(){var e={indexNo:u.newContractInfo[0].idNo,productno:t,currentPageIndex:1e3};return a.control({state:"policy-change",control:"data",data:e}),e}}});n.result.then(function(e){u.checkContract=e},function(){c.info("Modal dismissed at: "+new Date)})}}angular.module("app").controller("SalePubsearchController",e),e.$inject=["$scope","$stateParams","CommonRequest","CONFIG","PolicyService","TipService","$state","$window","$timeout","$rootScope","$document","$filter","$uibModal","$log"]}(),function(){"use strict";function e(e,t,a,n,CONFIG,CommonRequest,TipService,i,s){var o=this,r=i.getSessionData();o.sessionInfo=r.poilicyChange,o.userInfo=r.userData,o.username=o.userInfo.username,o.userid=o.userInfo.userid,o.nowDate=new Date,o.EndTime=o.StartTime=s("date")(o.nowDate,"yyyy-MM-dd HH:mm"),o.minStartTime=o.nowDate,o.maxStartTime=new Date(o.nowDate.getTime()+1728e5),o.maxDate=s("date")(o.maxStartTime,"yyyy-MM-dd HH:mm"),o.getHistoryPolicyNo=function(){if("Y"==a.newQueryNewCC)var e=CONFIG.NEWISSUEDISPOSE_QUERYHISTORYBYPOLICYNO;else var e=CONFIG.ISSUEDISPOSE_QUERYHISTORYBYPOLICYNO;var t={noteId:o.sessionInfo.indexNo,productno:o.sessionInfo.productno,currentPageIndex:o.sessionInfo.currentPageIndex};CommonRequest.request(t,e,function(e){if(1==e.status){o.historyPolicyList=[];for(var t=0;t<e.data.length;t++)o.historyPolicyList.push(e.data[t])}else"X15000000000000"==e.error.code?(o.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.error.message)})},o.getHistoryPolicyNo(),o.loginExit=function(){var t={username:o.username,userid:o.userid};CommonRequest.request(t,CONFIG.LOGIN_EXIT,function(t){1==t.status||"X15000000000000"==t.error.code?(sessionStorage.removeItem("elife-login"),a.isLogin=!1,i.removeSessionData(["userData"]),e.go("login")):0==t.status&&TipService.showMsg("退出失败")})},o.replyNote=function(){if("Y"==a.newQueryNewCC)var e=CONFIG.NEWISSUEDISPOSE_REPLYNOTE;else var e=CONFIG.ISSUEDISPOSE_REPLYNOTE;if("1"==o.type){var n={productno:o.sessionInfo.productno,type:o.type,signStartDate:o.sessionInfo.signStartDate,signEndDate:o.sessionInfo.signEndDate,realName:o.sessionInfo.realName.realName,userCode:"全部"==o.sessionInfo.userCode?"":o.sessionInfo.userCode,noteId:o.sessionInfo.indexNo,remark:o.remark};CommonRequest.request(n,e,function(e){1==e.status?(TipService.showMsg("处理成功"),a.$on("tip-done",function(e,a){"处理成功"==a.msg&&t.close(!0)})):"X15000000000000"==e.error.code?(o.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.error.message)})}else if("0"==o.type){if(""==$("#startTime").val()||""==$("#endTime").val())return void TipService.showMsg("时间不能为空！");var i=$("#startTime").val().split(" ")[0].replace(/-/g,"")-$("#endTime").val().split(" ")[0].replace(/-/g,""),r=$("#startTime").val().split(" ")[1].replace(/:/g,"")-$("#endTime").val().split(" ")[1].replace(/:/g,"");if($("#startTime").val().split(" ")[1].replace(/:/g,"")>2e3||$("#startTime").val().split(" ")[1].replace(/:/g,"")<900||$("#endTime").val().split(" ")[1].replace(/:/g,"")>2e3||$("#endTime").val().split(" ")[1].replace(/:/g,"")<900)return void TipService.showMsg("预约时间为9：00 - 20：00！");if($("#startTime").val().split(" ")[0].replace(/-/g,"")==s("date")(o.nowDate,"yyyyMMdd"))return void TipService.showMsg("开始时间不能为当天！");if(0!=i)TipService.showMsg("开始时间与结束时间要在同一天！");else if(r>=0)TipService.showMsg("开始时间必须小于结束时间！");else{var n={productno:o.sessionInfo.productno,type:o.type,signStartDate:$("#startTime").val()||o.sessionInfo.signStartDate,signEndDate:$("#endTime").val()||o.sessionInfo.signEndDate,realName:o.sessionInfo.realName.realName,userCode:"全部"==o.sessionInfo.userCode?"":o.sessionInfo.userCode,noteId:o.sessionInfo.indexNo,remark:o.remark};CommonRequest.request(n,e,function(e){1==e.status?(TipService.showMsg("处理成功"),a.$on("tip-done",function(e,a){"处理成功"==a.msg&&t.close(!0)})):"X15000000000000"==e.error.code?(o.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.error.message)})}}},o.close=function(){t.close(!0)}}angular.module("app").controller("ProblemHandleConfirmController",e),e.$inject=["$state","$uibModalInstance","$rootScope","$location","CONFIG","CommonRequest","TipService","PolicyService","$filter"]}(),function(){"use strict";function e(e,t,a,n,CONFIG,CommonRequest,TipService,i){var s=this,o=i.getSessionData();s.sessionInfo=o.poilicyChange,s.userInfo=o.userData,s.username=s.userInfo.username,s.userid=s.userInfo.userid,s.loginExit=function(){var t={username:s.username,userid:s.userid};CommonRequest.request(t,CONFIG.LOGIN_EXIT,function(t){1==t.status||"X15000000000000"==t.error.code?(sessionStorage.removeItem("elife-login"),a.isLogin=!1,i.removeSessionData(["userData"]),e.go("login")):0==t.status&&TipService.showMsg("退出失败")})},s.getHistoryPolicyNo=function(){var e={noteId:s.sessionInfo.indexNo,productno:s.sessionInfo.productno,currentPageIndex:s.sessionInfo.currentPageIndex};"Y"==a.newQueryNewCC?s.config=CONFIG.NEWISSUEDISPOSE_QUERYHISTORYBYPOLICYNO:s.config=CONFIG.ISSUEDISPOSE_QUERYHISTORYBYPOLICYNO,CommonRequest.request(e,s.config,function(e){if(1==e.status){s.historyPolicyList=[];for(var t=0;t<e.data.length;t++)s.historyPolicyList.push(e.data[t])}else"X15000000000000"==e.error.code?(s.loginExit(),TipService.showMsg("登陆失效")):TipService.showMsg(e.error.message)})},s.getHistoryPolicyNo(),s.close=function(){t.close(!0)}}angular.module("app").controller("NewContractInfoController",e),e.$inject=["$state","$uibModalInstance","$rootScope","$location","CONFIG","CommonRequest","TipService","PolicyService"]}(),function(){"use strict";function e(e,t,CommonRequest,CONFIG,a,TipService,n,i,$timeout,s){var o=this,r=a.getSessionData();o.userInfo=r.userData,o.username=o.userInfo.username,o.userid=o.userInfo.userid;var l=n.params;o.username=l.username,o.loginExit=function(){var e={username:o.username,userid:o.userid};CommonRequest.request(e,CONFIG.LOGIN_EXIT,function(e){1==e.status||"X15000000000000"==e.error.code?(sessionStorage.removeItem("elife-login"),s.isLogin=!1,a.removeSessionData(["userData"]),n.go("login")):0==e.status&&TipService.showMsg("退出失败")})},o.passwordChange=function(){var e={username:o.username,password:o.oldPassword,newPassword:o.newPassword,surePassword:o.newPasswordConfirm};CommonRequest.request(e,CONFIG.PASSWPRD_CHANGE,function(e){1==e.status?(TipService.showMsg("修改成功"),s.$on("tip-done",function(e,t){"修改成功"==t.msg&&(a.removeSessionData(["userData"]),n.go("login"))})):"X15000000000000"==e.error.code?(o.loginExit(),TipService.showMsg("登陆失效")):0==e.status&&TipService.showMsg(e.message.error)})},o.resetChangePasswordInfo=function(){o.oldPassword="",o.newPassword="",o.newPasswordConfirm=""}}angular.module("app").controller("HavetoChangePasswordController",e),e.$inject=["$scope","$stateParams","CommonRequest","CONFIG","PolicyService","TipService","$state","$window","$timeout","$rootScope"]}(),function(){"use strict";function e(e,t,CommonRequest,CONFIG,a,n,i,TipService,s){var o=this;o.nextStep=!0,o.forgetPassword=function(){s.go("forget-password")},o.imgpath=CONFIG.SERVICE_ADDRESS+"imageCode/ImgVerifyCode?random="+o.random,o.getimg=function(){o.validCode="",o.code="",o.random=Date.parse(new Date)+Math.random(8),o.imgpath=CONFIG.SERVICE_ADDRESS+"imageCode/ImgVerifyCode?random="+o.random},o.getimg(),o.checkPassword=function(){var t={username:o.username,password:o.password,imageCode:o.validCode,random:o.random};CommonRequest.request(t,CONFIG.CHECK_LOGIN,function(t){if(1==t.status){var a=t.data;e.userData=t.data,i.setSessionData({userData:{agenctType:a.agenctType,enabled:a.enabled,realName:a.realName,userCode:a.userCode,userid:a.userid,website:a.website,username:a.username,IdNo:a.idNo,parentid:a.parentid,token:a.token}}),"1"==a.firstUpdate?(sessionStorage.setItem("elife-login",1),e.isLogin=!0,s.go("sale-pubsearch")):"0"==a.firstUpdate&&s.go("haveto-change-password",{username:o.username})}else if(0==t.status){o.validCode="";var n=t.error.message;o.getimg(),TipService.showMsg("",n,"false")}})}}angular.module("app").controller("MainController",e),e.$inject=["$rootScope","$scope","CommonRequest","CONFIG","$uibModal","$log","PolicyService","TipService","$state"]}(),function(){"use strict";function e(e,t,CommonRequest,CONFIG,a,n,i,TipService,s,$timeout,o){var r=this;r.nextStep=!0,r.goBack=function(){s.go("login")},r.random=Date.parse(new Date)+Math.random(8),r.imgpath=CONFIG.SERVICE_ADDRESS+"imageCode/ImgVerifyCode?random="+r.random,r.getimg=function(){r.code="",r.random=Date.parse(new Date)+Math.random(8),r.imgpath=CONFIG.SERVICE_ADDRESS+"imageCode/ImgVerifyCode?random="+r.random},r.getimg(),r.changePassword=function(){var t={username:r.username,password:r.password,mobile:r.mobile,random:r.random,imageCode:r.validCode,txCode:"CCBSB101"};CommonRequest.request(t,CONFIG.CHANGE_PASSWPRD,function(t){if(1==t.status)TipService.showMsg("找回密码成功"),e.$on("tip-done",function(e,t){"找回密码成功"==t.msg&&s.go("login")});else if(0==t.status){var a=t.error.message;TipService.showMsg("",a,"false")}})},t.$watch("forgetPassword.username",function(e,t){r.checkNextStepCanClick(e,t)}),t.$watch("forgetPassword.mobile",function(e,t){e&&$timeout(function(){r.checkNextStepCanClick(e,t)},100)}),t.$watch("forgetPassword.validCode",function(e,t){r.checkNextStepCanClick(e,t)}),r.checkNextStepCanClick=function(e,a){r.username&&r.mobile&&r.validCode&&!t.forgrtPasswordForm.$invalid?r.nextStep=!1:r.nextStep=!0}}angular.module("app").controller("ForgetPasswordController",e),e.$inject=["$rootScope","$scope","CommonRequest","CONFIG","$uibModal","$log","PolicyService","TipService","$state","$timeout","$window"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.zipcodeCheck(e)?n.$setValidity("invalid",!0):n.$setValidity("invalid",!1)):(n.$setValidity("invalid",!0),void n.$setValidity("length",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("zipcodeCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(e,$timeout,CommonRequest,CONFIG,t){function a(a,n,i){function s(){0==a.duration?(clearTimeout(r),n.removeAttr("disabled"),n.html("重新获取")):r=$timeout(function(){a.duration--,s()},1e3)}function o(){var t=e("<span>{{duration}}秒重发</span>")(a);n.html(t),n.attr("disabled","disabled"),a.duration=i.duration,s()}var r;n.bind("click",function(){var e,a={mobileNo:i.mobileno,imageCode:i.imagecode,random:i.random,txCode:i.txcode};CommonRequest.request(a,CONFIG.SEND_FORGET_MSG_SERVICE,function(a){a&&(1==a.status?(o(),e=!0):e=!1,t.$broadcast("send-result",{result:e}))})})}var n={restrict:"A",scope:{duration:"@",done:"@"},link:a};return n}angular.module("app").directive("securityCode",e),e.$inject=["$compile","$timeout","CommonRequest","CONFIG","$rootScope"]}(),function(){"use strict";function e(e){function t(t){var a=e;a.$watch("spbHref",function(e){t.spbHref=e})}var a={restrict:"AE",templateUrl:"app/components/uc-menu/uc-menu.html",scope:{flow:"="},link:t};return a}angular.module("app").directive("ucMenu",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(e,n,i){function s(e){return e&&(8==e.length?e=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6):13==e.length?e=parseInt(e):-1!=e.indexOf("-")&&(e=e.replace(/-/g,"/"))),e=new Date(e)}function o(e){if(e>=0){var a=Math.floor(e/86400),i=Math.floor((e-24*a*60*60)/3600),s=Math.floor((e-24*a*60*60-3600*i)/60),o=Math.floor(e-24*a*60*60-3600*i-60*s);u=a>0?"<b>"+a+"</b>天<b>"+i+"</b>小时<b>"+s+"</b>分<b>"+o+"</b>秒":"<b>"+i+"</b>小时<b>"+s+"</b>分<b>"+o+"</b>秒",n.html(u)}else t.transitionTo(t.current,t.$current.params,{reload:!0,inherit:!0,notify:!0})}var r=i.startdate,l=i.nowdate,c=i.stop||!1;r=s(r),l=s(l);var u="";if(r&&l){var d=l.getTime()-r.getTime();if(!c&&0>d){var p=parseInt(Math.abs(d)/1e3);e.t=a(function(){o(p--)},1e3)}else u="<b>0</b>小时<b>0</b>分<b>0</b>秒",n.html(u),clearInterval(e.t)}else u="开始时间未设定",n.html(u)}var i={restrict:"AE",replace:!0,link:n};return i}angular.module("app").directive("timer",e),e.$inject=["$compile","$state","$interval"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.chineseCheck(e)||!VALIDATION.invalidStringCheck(e)?n.$setValidity("invalid",!1):(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(e,30,"lt")?n.$setValidity("length",!0):n.$setValidity("length",!1))):void n.$setValidity("invalid",!0)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("referralnoCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){function i(e,t){var a=e;a?(n.$setValidity("passwordFirst",!0),a!=t?n.$setValidity("same",!1):(n.$setValidity("same",!0),VALIDATION.passwordCheck(t)?(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(t,7,"lt")||VALIDATION.stringLengthCheck(t,16,"gt")?n.$setValidity("length",!1):n.$setValidity("length",!0)):n.$setValidity("invalid",!1))):n.$setValidity("passwordFirst",!1)}a.$observe("password",function(){if(n.$viewValue){var e=n.$viewValue,t=a.password;i(t,e)}}),e.$watch(a.ngModel,function(e){return e?void i(a.password,e):(n.$setValidity("invalid",!0),n.$setValidity("length",!0),n.$setValidity("same",!0),void n.$setValidity("passwordFirst",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("repasswordCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){function i(e,t){var a=e;a?(n.$setValidity("banknoFirst",!0),a!=t?n.$setValidity("same",!1):(n.$setValidity("same",!0),VALIDATION.banknoCheck(t)?(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(t,11,"lt")||VALIDATION.stringLengthCheck(t,23,"gt")?n.$setValidity("length",!1):n.$setValidity("length",!0)):n.$setValidity("invalid",!1))):n.$setValidity("banknoFirst",!1)}a.$observe("bankno",function(){if(n.$viewValue){var e=n.$viewValue,t=a.bankno;i(t,e)}}),e.$watch(a.ngModel,function(e){return e?void i(a.bankno,e):(n.$setValidity("invalid",!0),n.$setValidity("length",!0),n.$setValidity("same",!0),void n.$setValidity("banknoFirst",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("rebanknoCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void n.$setValidity("invalid",!0):void n.$setValidity("invalid",!1)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("radioCheck",e),e.$inject=[]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.numberCheck(e)?(n.$setValidity("invalid",!1),n.$setValidity("length",!0)):(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(e,6,"=")?n.$setValidity("length",!0):n.$setValidity("length",!1))):(n.$setValidity("invalid",!0),void n.$setValidity("length",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("phoneCodeCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.phoneCheck(e)?n.$setValidity("invalid",!0):n.$setValidity("invalid",!1)):void n.$setValidity("invalid",!0)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("phoneCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.passwordCheck(e)?(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(e,7,"lt")||VALIDATION.stringLengthCheck(e,16,"gt")?n.$setValidity("length",!1):n.$setValidity("length",!0)):(n.$setValidity("invalid",!1),
n.$setValidity("length",!0))):(n.$setValidity("invalid",!0),void n.$setValidity("length",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("passwordCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(){var e={restrict:"AE",templateUrl:"app/components/navbar/navbar.html",scope:{flow:"="}};return e}angular.module("app").directive("acmeNavbar",e)}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.stringCheck(e)&&VALIDATION.invalidStringCheck(e)?(n.$setValidity("invalid",!0),VALIDATION.stringLengthCheck(e,30,"lt")?n.$setValidity("length",!0):n.$setValidity("length",!1)):n.$setValidity("invalid",!1)):(n.$setValidity("invalid",!0),void n.$setValidity("length",!0))})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("nameCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){function i(e){function t(){var t=a.min;t&&parseFloat(t)>parseFloat(e)?n.$setValidity("min",!1):n.$setValidity("min",!0)}function i(){var t=a.max;return 0===t||"0"===t?void n.$setValidity("max",!0):void(t&&parseFloat(t)<parseFloat(e)?n.$setValidity("max",!1):n.$setValidity("max",!0))}function s(){return VALIDATION.incomeCheck(e)}if(!e)return n.$setValidity("invalid",!0),n.$setValidity("format",!0),n.$setValidity("min",!0),void n.$setValidity("max",!0);if(VALIDATION.moneyCheck(e)){n.$setValidity("invalid",!0);var o=a.multi,r=a.income;o?VALIDATION.multipleCheck(e,o)?(n.$setValidity("format",!0),parseFloat(e)!=a.minmon&&(t(),i())):(n.$setValidity("format",!1),n.$setValidity("min",!0),n.$setValidity("max",!0)):parseFloat(e)!=a.minmon&&(t(),i()),r&&(s()?n.$setValidity("invalid",!0):n.$setValidity("invalid",!1))}else n.$setValidity("invalid",!1)}e.$watch(a.ngModel,function(e){i(e)}),e.$watch(a.minBuyQautity,function(){var e=a.value;e&&i(e)}),e.$watch(a.maxBuyQautity,function(){var e=a.value;e&&i(e)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("moneyCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(e){function t(t,a){t.$on("refresh-location",function(e,t){n(t)});var n=function(n){var i=t.first,s=t.firstLink,o=t.second||n&&n.second||"",r=t.secondLink||n&&n.secondLink||"",l=t.third||n&&n.third||"",c=t.thirdLink||n&&n.thirdLink||"",u=t.fourth||n&&n.fourth||"",d='<div class="wrapper"><div class="location"><p>您当前所在位置是：';i&&s?(d+='<a ui-sref="{{firstLink}}">{{first}}</a>',o&&(t.second=o,r?(t.secondLink=r,d+='<span>&gt;</span><a ui-sref="{{secondLink}}">{{second}}</a>',l&&(t.third=l,c?(t.thirdLink=c,d+='<span>&gt;</span><a ui-sref="{{thirdLink}}">{{third}}</a>',u&&(d+="<span>&gt;</span>{{fourth}}")):d+="<span>&gt;</span>{{third}}")):d+="<span>&gt;</span>{{second}}")):d+='<a ui-sref="home">首页</a>',d+="</p></div></div>";var p=e(d)(t);angular.element(a).html(p)};n()}var a={restrict:"AE",scope:{first:"@",firstLink:"@",second:"@",secondLink:"@",third:"@",thirdLink:"@",fourth:"@"},link:t};return a}angular.module("app").directive("locationBar",e),e.$inject=["$compile"]}(),function(){"use strict";function e(){var e={restrict:"AE",transclude:!0,templateUrl:"app/components/insurance-tips/insurance-tips.html"};return e}angular.module("app").directive("insuranceTips",e)}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.invalidStringCheck(e)?n.$setValidity("invalid",!0):n.$setValidity("invalid",!1)):void n.$setValidity("invalid",!0)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("invalidStringCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(){var e={restrict:"AE",transclude:!0,scope:{flow:"@"},templateUrl:"app/components/insurance-flow/insurance-flow.html"};return e}angular.module("app").directive("insuranceFlow",e)}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){function t(e){for(var t=0;t<i.length;t++)n.$setValidity(i[t],!0);e&&-1!=i.indexOf(e)&&n.$setValidity(e,!1)}var i=["invalid","length","invalid2"];if(!e)return void t();if(VALIDATION.chineseCheck(e))return void t("invalid");if(!VALIDATION.stringLengthCheck(e,20,"lt"))return void t("length");var s=a.idtype,o=a.checkn,r=a.checka;if("A"!=s)if(o&&"N"==s){if(!VALIDATION.stringLengthCheck(e,15,"gt"))return void t("invalid2");if(!VALIDATION.stringLengthCheck(e,15,"lt"))return void t("invalid2");if(!VALIDATION.wordCheck(e))return void t("invalid2")}else{if(!VALIDATION.stringLengthCheck(e,8,"gt"))return void t("invalid2");if(!VALIDATION.wordCheck(e))return void t("invalid2")}else if(r){if(!VALIDATION.stringLengthCheck(e,15,"=")&&!VALIDATION.stringLengthCheck(e,18,"="))return void t("invalid2");if(!VALIDATION.wordCheck(e))return void t("invalid2")}else if(!VALIDATION.idCheck(e))return void t("invalid2");t()})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("idCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(e,t,a){function n(){var n=this;n.wechatLogin=function(){a.wechatModal()},n.exit=function(){a.logout()},n.favor=function(){var a="建信人寿-保险商城",n=e.absUrl();try{t.external.addFavorite(n,a)}catch(i){try{t.sidebar.addPanel(a,n,"")}catch(i){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}}var i={restrict:"AE",transclude:!0,templateUrl:"app/components/header/header.html",controller:n,controllerAs:"header"};return n.$inject=[],i}angular.module("app").directive("header",e),e.$inject=["$location","$window","LoginService"]}(),function(){"use strict";function e(){var e={restrict:"AE",templateUrl:"app/components/hc-menu/hc-menu.html",scope:{flow:"="}};return e}angular.module("app").directive("hcMenu",e)}(),function(){"use strict";function e(){var e={restrict:"AE",templateUrl:"app/components/forget-password-state/forget-password-state.html",scope:{flow:"@"}};return e}angular.module("app").directive("forgetPasswordState",e)}(),function(){"use strict";function e(e,t){function a(){angular.element("#trouble-report").on("click",function(){var a=e.open({templateUrl:"app/module/help-center/trouble-report/trouble-report.html",controller:"TroubleReportController",controllerAs:"troubleReport",size:"md"});a.result.then(function(){},function(){t.info("Modal dismissed at: "+new Date)})})}var n={restrict:"AE",transclude:!0,templateUrl:"app/components/footer/footer.html",link:a};return n}angular.module("app").directive("footer",e),e.$inject=["$uibModal","$log"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){return e?void(VALIDATION.emailCheck(e)?n.$setValidity("invalid",!0):n.$setValidity("invalid",!1)):void n.$setValidity("invalid",!0)})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("emailCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(){function e(e,t){t.on("paste",function(e){e.preventDefault()}),t.on("copy",function(e){e.preventDefault()})}var t={restrict:"A",link:e};return t}angular.module("app").directive("disablePaste",e),e.$inject=[]}(),function(){"use strict";function e(e,t){function a(a){function n(e){angular.forEach(a.slides,function(e){e.active=!1}),a.slides[e].active=!0,c.currentIndex=e}function i(){var e=c.currentIndex-1<0?0:c.currentIndex-1;n(e)}function s(){var e=(c.currentIndex+1)%a.slides.length;n(e)}function o(){u=t(l,a.interval),d=!0}function r(){u&&(t.cancel(u),u=null,d=!1)}function l(){var e=+a.interval;d&&!isNaN(e)&&e>0?c.next():c.pause()}var c=this;c.select=n,c.prev=i,c.next=s,c.currentIndex=0,c.pause=r,c.play=o,c.right=(e.innerWidth-a.width)/2;var u=null,d=!0;a.slides[0].active=!0,c.play()}var n={restrict:"AE",transclude:!0,templateUrl:"app/components/banner/banner.html",scope:{interval:"@",slides:"=",height:"@",width:"@"},controller:a,controllerAs:"banner"};return a.$inject=["$scope"],n}angular.module("app").directive("banner",e),e.$inject=["$window","$interval"]}(),function(){"use strict";function e(){function e(e){for(var t=e.text,a=t.split(","),n=[],i=0;i<a.length;i++)n.push({text:a[i]});e.steps=n}e.$inject=["$scope"];var t={restrict:"AE",transclude:!0,scope:{text:"@",current:"@"},templateUrl:"app/components/common-flow/common-flow.html",controller:e};return t}angular.module("app").directive("commonFlow",e)}(),function(){"use strict";function e(e,t){function a(a,n,i){function s(e){return e&&(8==e.length?e=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6):13==e.length?e=parseInt(e):-1!=e.indexOf("-")&&(e=e.replace(/-/g,"/"))),e=new Date(e)}function o(t){if(t>=0){var a=Math.floor(t/86400),i=Math.floor((t-24*a*60*60)/3600),s=Math.floor((t-24*a*60*60-3600*i)/60),o=Math.floor(t-24*a*60*60-3600*i-60*s);i=i>9?"<b>"+i+"</b>":"<b>0</b><b>"+i+"</b>",s=s>9?"<b>"+s+"</b>":"<b>0</b><b>"+s+"</b>",o=o>9?"<b>"+o+"</b>":"<b>0</b><b>"+o+"</b>",u="<b>"+a+"</b><i></i>"+i+s+o,n.html(u)}else e.transitionTo(e.current,e.$current.params,{reload:!0,inherit:!0,notify:!0})}var r=i.startdate,l=i.nowdate,c=i.stop||!1;r=s(r),l=s(l);var u="";if(r&&l){var d=l.getTime()-r.getTime();if(!c&&0>d){var p=parseInt(Math.abs(d)/1e3);a.t=t(function(){o(p--)},1e3)}else u="<b>0</b><i></i><b>0</b><b>0</b><b>0</b><b>0</b><b>0</b><b>0</b>",n.html(u),clearInterval(a.t)}}var n={restrict:"AE",replace:!0,link:a};return n}angular.module("app").directive("bannerTimer",e),e.$inject=["$state","$interval"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){function t(e){for(var t=0;t<a.length;t++)n.$setValidity(a[t],!0);e&&-1!=a.indexOf(e)&&n.$setValidity(e,!1)}var a=["invalid","length"];return e?VALIDATION.banknoCheck(e)?VALIDATION.stringLengthCheck(e,11,"lt")||VALIDATION.stringLengthCheck(e,23,"gt")?void t("length"):void t():void t("invalid"):void t()})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("banknoCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function e(VALIDATION){function e(e,t,a,n){e.$watch(a.ngModel,function(e){function t(e){for(var t=0;t<a.length;t++)n.$setValidity(a[t],!0);e&&-1!=a.indexOf(e)&&n.$setValidity(e,!1)}var a=["invalid","length","number"];return e?VALIDATION.addressCheck(e)?VALIDATION.stringLengthCheck(e,4,"lt")||VALIDATION.stringLengthCheck(e,50,"gt")?void t("length"):VALIDATION.numberCheck(e)?void t():void t("number"):void t("invalid"):void t()})}var t={restrict:"A",require:"ngModel",link:e};return t}angular.module("app").directive("addressCheck",e),e.$inject=["VALIDATION"]}(),function(){"use strict";function VALIDATION(){this.invalidStringCheck=function(e){if(e){var t=new Array("~","`","!","@","#","$","%","^","&","*","{","}","[","]","(",")");t.push(":",";","'",'"',"|","\\","<",">","?","/","<<",">>","||","//"),t.push("！","￥","…","（","）","—","-","+","『","』","：","“","”","【","】","、","；","‘","’","，","。","《","》","？"),t.push("admin","administrators","administrator","管理员","系统管理员"),t.push("select","delete","update","insert","create","drop","alter","trancate"),e=e.toLowerCase();for(var a=0;a<t.length;a++)if(e.indexOf(t[a])>=0)return!1;return!0}return!1},this.stringCheck=function(e){var t=["0","1","2","3","4","5","6","7","8","9"];if(e){for(var a=0;a<t.length;a++)if(e.indexOf(t[a])>=0)return!1;return!0}return!1},this.numberCheck=function(e){if(e){var t=/^\d*$/;return t.test(e)?!1:!0}return!1},this.chineseCheck=function(e){return/[^\u0000-\u00FF]/.test(e)?!0:!1},this.wordCheck=function(e){return e&&/^[a-zA-Z\d]+$/.test(e)?!0:!1},this.passwordCheck=function(e){if(e){for(var t=[/([a-z])/,/([A-Z])/,/([0-9])/,/([!,%,&,@,#,$,^,*,?,_,~])/],a=0,n=0;n<t.length;n++)t[n].test(e)&&a++;return e.length>=8?a>=2?!0:!1:!0}return!1},this.stringLengthCheck=function(e,t,a){if(e&&t){if("lt"==a&&e.length<=t)return!0;if("gt"==a&&e.length>=t)return!0;if("="==a&&e.length==t)return!0}return!1},this.idCheck=function(e){if(e=e.toUpperCase(),!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return!1;var t,a,n,i,s,o,r,l,c=e.length;if(15==c){if(t=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/),a=e.match(t),n=new Date("19"+a[2]+"/"+a[3]+"/"+a[4]),i=n.getYear()==Number(a[2])&&n.getMonth()+1==Number(a[3])&&n.getDate()==Number(a[4])){for(s=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),o=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0,e=e.substr(0,6)+"19"+e.substr(6,e.length-6),l=0;17>l;l++)r+=e.substr(l,1)*s[l];return e+=o[r%11],!0}return!1}if(18==c){if(t=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/),a=e.match(t),n=new Date(a[2]+"/"+a[3]+"/"+a[4]),i=n.getFullYear()==Number(a[2])&&n.getMonth()+1==Number(a[3])&&n.getDate()==Number(a[4])){var u;for(s=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),o=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0,l=0;17>l;l++)r+=e.substr(l,1)*s[l];return u=o[r%11],u!=e.substr(17,1)?!1:!0}return!1}return!1},this.emailCheck=function(e){return/^(\w)+(\.\w+)*@[\w-]+((\.\w+)+)$/.test(e)?!0:!1},this.zipcodeCheck=function(e){return/^[0-9]{6}$/.test(e)?!0:!1},this.banknoCheck=function(e){return/^[0-9]{1,}$/.test(e)?!0:!1},this.phoneCheck=function(e){return/^[1][0-9]{10}$/.test(e)?!0:/^[5|6|8|9][0-9]{7}$/.test(e)?!0:!1},this.moneyCheck=function(e){var t=/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/;return t.test(e)||"100000000"==e?!0:!1},this.incomeCheck=function(e){var t=/^([1-9][\d]{0,7}|0)?$/;return t.test(e)||"100000000"==e?!0:!1},this.multipleCheck=function(e,t){return e&&!isNaN(t)&&e%t==0?!0:!1},this.getBirthday=function(e){var t,a;if(18==e.length)t=e.substring(6,14);else{if(15!=e.length)return"";a=e.substring(6,12),t="19"+a}var n=this.dateFormat(t);return n},this.getDateByAge=function(e){if(e){var t,a,n,i,s,o,r,l,c,u,d;t=new Date,u=t.getFullYear(),c=u-e,a=t.getTime(),d=[];for(var p=c;u>=p;p++)(p%4==0&&p%100!=0||p%400==0)&&d.push(p);var g=d.length;return"0"==e?(n=a-2592e6,o=new Date(n)):"18"==e?(i=a-365*e*24*60*60*1e3-24*g*60*60*1e3,r=new Date(i)):(s=a-365*e*24*60*60*1e3-24*g*60*60*1e3-31536e6+864e5,l=new Date(s))}},this.getAgeByBirth=function(e){if(!e)return 0;if(angular.isString(e)&&-1!=e.indexOf("-")&&(e=e.replace(/\-/g,"/")),isNaN(new Date(e)))return 0;var t=0,a=new Date,n=a.getFullYear(),i=a.getMonth()+1,s=a.getDate(),o=new Date(e),r=o.getFullYear(),l=o.getMonth()+1,c=o.getDate();if(a.getTime()>o.getTime()){var u=n-r,d=i-l,p=s-c;t+=u,0>d?t--:0==d&&0>p&&t--}return t},this.getSex=function(e){var t,a;if(18==e.length)t=e.substring(16,17);else{if(15!=e.length)return"";t=e.substring(14,15)}var n=t%2;return a=0==n?2:1},this.addressCheck=function(e){if(e){var t=new Array("~","￥","……","（","）","+","=",",",".","，","。","`","!","！","；","‘","@","$","%","^","&","*","{","}","[","]","(",")");t.push(":",";","'","|","\\","<",">","?","/","<<",">>","||","//"),e=e.toLowerCase();for(var a=0;a<t.length;a++)if(e.indexOf(t[a])>=0)return!1;return!0}return!1},this.dateFormat=function(e){return e&&8==e.length&&(e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)),e}}angular.module("app").service("VALIDATION",VALIDATION)}(),function(){"use strict";function e(){this.getTips=function(){return{COMMON:{REQUIRED:"必填项信息不能为空或不正确",INVALID_STRING:"请勿输入非法字符",USER_NAME_INVALID:"您输入的真实姓名格式不正确",USER_NAME_LENGTH_ERROR:"您输入的真实姓名过长（最多支持30个汉字）",ID_LENGTH_ERROR:"您输入的证件号码过长",ID_INVALID:"您输入的证件号码格式不正确",ID_INVALID2:"请输入正确的证件号码",PASSWORD_LENGTH_ERROR:"密码长度最少8位，最长16位",PASSWORD_INVALID:"密码必须包含大写英文字母、小写英文字母、特殊字符、数字中的两种或以上",PASSWORD_SAME:"两次输入的密码必须保持一致",PASSWORD_FIRST:"请先设定登录密码",EMAIL_INVALID:"您输入的电子邮箱格式不正确",PHONE_INVALID:"您输入的手机号码格式不正确",PHONECODE_INVALID:"您输入的验证码格式不正确",PHONECODE_LENGTH_ERROR:"您输入的验证码长度不符",ZIPCODE_INVALID:"您输入的邮政编码格式不正确",BANKNO_INVALID:"您输入的银行账号格式不正确",BANKNO_LENGTH_ERROR:"您输入的银行账号长度不符",BANKNO_SAME:"必须和银行账号保持一致",BANKNO_FIRST:"请先设定银行账号",GENDER_INVALID:"性别不能为空",MONEY_NEED:"输入金额格式不正确",MONEY_FORMAT:"输入的金额必须为{money}的倍数",MONEY_MIN:"输入的金额必须大于等于{money}",MONEY_MAX:"输入的金额必须小于等于{money}",MONEY_OUTOFSIZE:"输入的金额超过了最高可借款金额",REFERRALNO_INVALID:"您输入的工号格式不正确",REFERRALNO_LENGTH_ERROR:"您输入的工号长度过长",ADDRESS_INVALID:"您输入的地址格式不正确",ADDRESS_LENGTH_ERROR:"您输入的地址长度不符",ADDRESS_NUMBER_ERROR:"您输入的地址不能全为数字",UPLOAD_FILE_MAX_SIZE_ERROR:"您上传的图片过大，单个文件应小于1MB",UPLOAD_FILE_TYPE_ERROR:"您上传的图片类型错误，只能上传png、jpg",JOBCODE_ERROR:"暂不支持该职业类型",DATE_LINE_MAX:"选择的日期应该小于{max}",DATE_LINE_MIN:"选择的日期应该大于{min}"},SYSTEM:{INVALID_OPERATION:"非法操作",TIMEOUT:"系统繁忙，请稍后重试",REQUEST_ERROR:"服务请求异常，请稍后重试",NETWORK_ERROR:"网络环境不太流畅，请检查网络后重新尝试",REQUEST_DENIED:"请求操作被拒绝"},USER:{LOGIN:{USER_NAME_ERROR:"用户名输入错误",USER_PASSWORD_ERROR:"密码输入错误"},REGIST:{USER_REGIST_SUCCESS:"注册成功，请前往登录"},LOGOUT:{USER_LOGOUT_CONFIRM:"确认退出登录吗？"},SECURITY:{CHANGE_PHONE:"修改手机号成功！",CHANGE_PASSWORD:"修改密码成功！",OLD_PASSWORD_SAME:"新密码与旧密码不能相同"},ORDER:{NO_ORDER:"您暂时还没有订单"},CONTACT:{REMOVE_CONFIRM:"确认删除联系人？"},BIND:{NON_CERTIFICATE:"您的微信账号还未绑定身份信息",BIND_SUCCESS:"身份绑定成功"},ONLINEVISIT:{CAN_NOT_CONFIRM:"您的电子保单正在发送，请稍候重试。您可以在确认收到保单后在官网首页“在线回访”或客户中心进行在线回访操作。",NEED_CONFIRM_INFO:"您好！请确认签收日期。"}},PRODUCT:{NEED_VALID_CODE:"请先获取验证码",RISK_FAILED:"您的评估得分未达到投保要求，请重新勾选",RISK_NOT_FINISHED:"题目未完成",IPAHA_SELECTED_LIMIT:"时间段最多只能添加5个",IPAHA_SELECTED_REPEAT:"该日期时间段已重复，请重新选择",ILCL_TOTAL_ERROR:"投资总金额必须等于购买金额",RECACULATE:"被保险人生日、性别与测算信息不符，确认更新将重新计算保费",RECACULATED:"由于您的被保人信息进行了变更，保费变化为：",RECACULATED_AMOUNT:"由于您的被保人信息进行了变更，基本保额变化为：",HEALTHY_INVALID:"尊敬的客户您好，您选择的告知事项内容，不符合我们的投保要求，请采用其他渠道购买本产品，谢谢您对我们的支持",UPLOAD_ANOTHER_PHOTO:"需要证件正反面照片，请上传另外一张证件照片",UPLOAD_PHOTOS:"请继续上传申请资料",INFORMATION_CHECK:"您的资料正在审核中，我们会在2-3个工作日告知您结果",PRESELL_SUCCESS:"预售申请成功，您的申请资料正在审核，我们会在2-3个工作日告知您结果",POLICY_QUERY_FAILED:"您的投保信息正在处理中，您可稍后前往“我的订单”中查询结果~",HOLD_POLICY_SUCCESS:"承保成功！",CARD_NOT_EXIST:"该活动卡券不存在！",CARD_UNAVAILABLE:"该活动卡券已被使用或已失效！",NO_POLICY:"正在努力承保中，请稍后再试",TAC_CERTTYPE_FAILED:"本产品仅限身份证投保!",GETEXPFROMCORE_CALCULATE_FAILED:"从核心获取保费失败，请您稍后重试",PREPARE_SALE_PRD:"预售成功，请等待正式销售后确认订单结果，谢谢！"},HELP_CENTER:{},HOME:{},CLAIMS:{NODATA:"您暂时还没有理赔数据"},POLICY_CHANGE:{NODATA:"暂时没有查询到保单",CHANGE_ID:"您本次申请变更的证件信息，将同步更新您名下所有保单相关的证件信息，请确认是否继续操作？",NOCHANGE_QUERY:"您暂时还没有进行过变更",NO_FINSH_CHANGE:"您暂时还没有变更完成的保单",NO_IN_CHANGE:"您暂时还没有变更中的保单",NOT_SMALL:"变更前信息不能与变更后一致",ERROR_ID:"该证件信息与投保时的信息不符！",UPDATE_FILE:"请先上传证件资料",MISS_DATA:"申请失效，请重新再试",NULL_RATIO:"投资比例不能为空",RATIO_FULL:"各投资账户的投资比例总和应为100%",RATIO_NUMBER:"每个投资账户比例应为5%的整数倍",CHOOSE_ONE:"请至少选择一项",MISS_TYPE:"缺少保全类型，请补充",MISS_CUSTOMER:"客户信息有误，请重新登陆",NO_SUPPORT_POILCY:"您暂时还没有保单支持此变更",UPDATE_ONEPHOTO:"需要证件正反面照片，请上传另外一张证件照片",WITHDRAW_FAILED:"退保申请失败"}}}}angular.module("app").service("TIPS",e)}(),function(){"use strict";function NetworkService(e,t,a,n,i,$timeout,CONFIG,TipService){this.httpExecute=function(s){function o(a){var n,i=a.status,s=a.data,o=t.TIPS.SYSTEM.REQUEST_ERROR;0===i?o=t.TIPS.SYSTEM.NETWORK_ERROR:s?s.error&&(s.error.code&&-1!=s.error.code.indexOf("X159019000")&&-1==s.error.code.indexOf("X15330S33000053")&&(t.isLogin=!1,t.userData=null,sessionStorage&&(sessionStorage.removeItem("ulife-login"),sessionStorage.removeItem("ulife-loginStatus"),sessionStorage.removeItem("elife-userData")),e.go("login")),o=s.error.message||"",n=s.error.code||"",s.error.code&&-1!=s.error.message.indexOf("服务异常，小的正在拼命拯救中，请客官稍后再试试~")&&(o="系统繁忙，请您稍后重试，谢谢 ",n=s.error.code),s.error.code.indexOf("X15330S33000053")>=0?TipService.showMsg("如您未注册官网账户,请<a class='blue' href='"+CONFIG.DOMAIN+"/elife/#/register'>立即注册;</a>如您已注册账户,并且在服务网点、建信E保修改过手机号码,请<a class='blue' href='#/change-number'>更新官网账户手机号码</a>"):s.error.code&&-1==s.error.code.indexOf("44014")&&"X15000000000000"!==s.error.code&&o&&TipService.showMsg(o,n)):o=t.TIPS.SYSTEM.REQUEST_ERROR}if(!s)return n.reject({success:!1,message:"no http config",code:"NO_HTTP_CONFIG"});var r=n.defer(),l=!1;i.add({url:s.url,deferred:r}),s.headers=s.headers||{};var c;if(t.userData){var u=t.userData.userCode,d=t.userData.token;c={"x-token":d,"x-channelCode":CONFIG.SALE_CHANNEL,"x-userCode":u,"x-timestamp":(new Date).getTime()}}else c={"x-channelCode":CONFIG.SALE_CHANNEL,"x-timestamp":(new Date).getTime()};return s.timeout=CONFIG.REQUEST_TIMEOUT,s.timeout||(s.timeout=r.promise),angular.extend(s.headers,c),$timeout(function(){l||(TipService.showMsg(t.TIPS.SYSTEM.TIMEOUT),r.resolve(t.TIPS.SYSTEM.TIMEOUT))},CONFIG.REQUEST_TIMEOUT),t.requestLoading=!0,a(s).then(function(e){l=!0,t.requestLoading=!1,o(e),r.resolve(e.data)},function(e){throw l=!0,t.requestLoading=!1,o(e),r.resolve(e.data),e}),r.promise}}function CommonRequest(NetworkService,CONFIG){var requestService=this;this.getRequestName=function(params,requestCode){for(var requestCodeList=requestCode.split(","),stringName="",i=0;i<requestCodeList.length;i++)stringName=0==i?eval("params."+requestCodeList[i]):stringName+"-"+eval("params."+requestCodeList[i]);return stringName},this.setSessionCache=function(e,t,a,n){if(n){var i=requestService.getRequestName(e,n);t=angular.toJson(t),sessionStorage.setItem(a+"-"+i,t)}else t=angular.toJson(t),sessionStorage.setItem(a,t)},this.getSessionCache=function(e,t,a){var n;if(a){var i=requestService.getRequestName(e,a);n=sessionStorage.getItem(t+"-"+i)}else n=sessionStorage.getItem(t);return n},this.setSessionTime=function(e,t,a){var n=(new Date).getTime();if(a){var i=requestService.getRequestName(e,a);sessionStorage.setItem(t+"-"+i+"-cacheTime",n)}else sessionStorage.setItem(t+"-cacheTime",n)},this.getSessionTime=function(e,t,a){var n;if(a){var i=requestService.getRequestName(e,a);n=sessionStorage.getItem(t+"-"+i+"-cacheTime")}else n=sessionStorage.getItem(t+"-cacheTime");return n},this.request=function(e,t,a,n){var i=angular.element(document).find("#loading");!n&&i.show();var s;if(s="GET"==t.method?angular.extend({params:e||{}},t):angular.extend({data:e||{}},t),e&&t){var o,r,l,c;requestService.needCache(t.url,e,function(e,t,a){r=e,l=t,c=a}),1==r||2==r?(o=requestService.getSessionCache(e,l,c),o&&2!=r?(!n&&i.hide(),o=angular.fromJson(o),angular.isFunction(a)&&a(o)):NetworkService.httpExecute(s).then(function(t){!n&&i.hide(),t&&(requestService.setSessionCache(e,t,l,c),requestService.setSessionTime(e,l,c)),angular.isFunction(a)&&a(t)})):NetworkService.httpExecute(s).then(function(e){!n&&i.hide(),angular.isFunction(a)&&a(e)})}},this.needCache=function(e,t,a){for(var n=CONFIG.SESSION_LIST,i=0,s=null,o=null,r=0;r<n.length;r++)if(n[r].url==e){s=n[r].sessionName,o=n[r].requestCode;var l=requestService.getSessionTime(t,s,o),c=(new Date).getTime();if(l){var u=(c-l)/6e4;i=u>=CONFIG.SESSION_TIME?2:1}else i=1}angular.isFunction(a)&&a(i,s,o)},this.requestWithoutCache=function(e,t,a,n){var i=CONFIG.SESSION_LIST,s=null,o=null,r=t.url;if(e&&t){var l=angular.element(document).find("#loading");!n&&l.show();var c;c="GET"==t.method?angular.extend({params:e||{}},t):angular.extend({data:e||{}},t);for(var u=0;u<i.length;u++)i[u].url==r&&(s=i[u].sessionName,o=i[u].requestCode);NetworkService.httpExecute(c).then(function(t){!n&&l.hide(),s&&t&&(requestService.setSessionCache(e,t,s,o),requestService.setSessionTime(e,s,o)),angular.isFunction(a)&&a(t)})}}}function PendingRequestsService(e){this.pending=[],this.add=function(e){this.pending.push(e)},this.cancel=function(t){for(var a=this,n=a.pending,i=0;i<n.length;i++)n[i].url===t&&(n[i].deferred.resolve(e.TIPS.SYSTEM.REQUEST_DENIED),n.splice(i,1))},this.cancelAll=function(){var t=this,a=t.pending;angular.forEach(a,function(t){t.deferred.resolve(e.TIPS.SYSTEM.REQUEST_DENIED)}),a.length=0}}function TipService(e){this.showMsg=function(t,a,n){var i=this;if(a||(a=""),t||a){var s=angular.element(document).find("#tips"),o=s.find(".text"),r=s.find(".close-btn"),l=s.find(".btn");s.hide(),i.t&&clearTimeout(i.t),n&&"success"==n?o.html('<span class="fs20 va"><i class="glyphicon glyphicon-ok-sign green"></i></span> '+t+'</br><span class="grey fs14">'+a+"</span>"):o.html('<span class="fs20 va"><i class="glyphicon glyphicon-exclamation-sign orange"></i></span> '+t+'</br><span class="grey fs14">'+a+"</span>"),s.fadeIn(),r.unbind("click").bind("click",function(){s.hide(),o.html("")}),l.unbind("click").bind("click",function(){e.$broadcast("tip-done",{msg:t}),s.hide(),o.html("")})}}}function PolicyService(e,t,a,CommonRequest,CONFIG,TipService,n,i,$timeout){this.getSessionData=function(){if(sessionStorage){var e=sessionStorage.getItem("ulife-login"),t=sessionStorage.getItem("ulife-loginStatus"),a=sessionStorage.getItem("elife-userData"),n=sessionStorage.getItem("elife-productData"),i=sessionStorage.getItem("elife-insureData"),s=sessionStorage.getItem("elife-policyData"),o=sessionStorage.getItem("elife-poilicyChange"),r=sessionStorage.getItem("elife-uploadImgInOrder");return{login:e,loginStatus:t,userData:a?angular.fromJson(a):null,productData:n?angular.fromJson(n):null,insureData:i?angular.fromJson(i):null,policyData:s?angular.fromJson(s):null,poilicyChange:o?angular.fromJson(o):null,uploadImgInOrder:r?angular.fromJson(r):null}}return null},this.setSessionData=function(e){if(e&&sessionStorage)for(var t in e){var a=angular.fromJson(sessionStorage.getItem("elife-"+t)),n=e[t];angular.isObject(n)&&(n=a?angular.extend(a,n):n,n=angular.toJson(n)),sessionStorage.setItem("elife-"+t,n)}},this.removeSessionData=function(e){if(e&&sessionStorage){angular.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var a=e[t];sessionStorage.removeItem("elife-"+a)}}},this.control=function(e){var t=this,n=t.controlMapping,i=e.state,s=e.data,o=e.control;o?i?n[i][o](t,s):n.home[o](t,s):a.info('param "control" is invalid!')},this.controlMapping={home:{data:function(e){e.removeSessionData(["productData","insureData","policyData"])}},"product-detail":{data:function(e,t){e.setSessionData({productData:t}),e.removeSessionData(["insureData","policyData"])},process:function(e){e.process("product-detail")}},"mobile-modal":{data:function(e,t){e.setSessionData({userData:t})},process:function(e){e.process("mobile-modal")}},"product-purchase-calculate":{data:function(e,t){e.setSessionData({insureData:t}),e.removeSessionData(["policyData"])},process:function(e){e.process("product-purchase-calculate")}},"check-identity":{data:function(e,t){e.setSessionData({userData:t}),e.removeSessionData(["policyData"])},process:function(e){e.process("check-identity")}},"calculate-risk":{process:function(e){e.process("calculate-risk")}},"product-purchase-info":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("product-purchase-info")}},"product-purchase-baig-info":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("product-purchase-baig-info")}},"product-purchase-confirm":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("product-purchase-confirm")}},"product-purchase-baig-confirm":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("product-purchase-baig-confirm")}},"id-upload":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("id-upload")}},transfer:{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("transfer")}},"manual-audit":{data:function(e,t){e.setSessionData({policyData:t})},process:function(e){e.process("manual-audit")}},"policy-change":{data:function(e,t){e.setSessionData({poilicyChange:t})},process:function(e){e.process("policy-change")}},"upload-img":{data:function(e,t){e.setSessionData({policyData:t}),e.setSessionData({productData:t}),e.setSessionData({uploadImgInOrder:!0})},process:function(e){e.process("upload-img")}}},this.process=function(t){var i=this,s=i.getSessionData(),o=s.login,r=s.loginStatus,l=s.productData,c=s.userData,u=s.policyData;if(l&&t){var d=l.basicProfile;if("product-detail"!=t||"Y"!=d.P005||"1"==o&&"2"==r)if("product-detail"!=t&&"mobile-modal"!=t||"Y"!=d.P001)if("product-detail"!=t&&"mobile-modal"!=t&&"product-purchase-calculate"!=t||"Y"!=d.P006)if("product-detail"!=t&&"mobile-modal"!=t&&"product-purchase-calculate"!=t&&"check-identity"!=t||"Y"!=d.P006)if("product-purchase-info"==t)i.checkPolicy(u,"single",function(t){i.control({state:e.current.name,control:"data",data:{itemOrderRealPayAmt:t||0}}),e.go("product-purchase-confirm")});else if("product-purchase-baig-info"==t)i.checkPolicy(u,"group",function(t,a){i.control({state:e.current.name,control:"data",data:{bkOthOldSeq:t,itemOrderRealPayAmt:a||0}}),e.go("product-purchase-confirm")});else if("product-purchase-confirm"==t){if("baig"==l.templateCode.toLowerCase())return TipService.showMsg(n.TIPS.PRODUCT.INFORMATION_CHECK,"","success"),void e.go("home");if(u.idUploaded)return TipService.showMsg(n.TIPS.PRODUCT.INFORMATION_CHECK,"","success"),void e.go("home");if(u.isTransferred)return TipService.showMsg(n.TIPS.PRODUCT.INFORMATION_CHECK,"","success"),void e.go("home");if(u.isManualAudited)return TipService.showMsg(n.TIPS.PRODUCT.INFORMATION_CHECK,"","success"),void e.go("home");if("2"==l.prdSaleCode)return TipService.showMsg(n.TIPS.PRODUCT.PRESELL_SUCCESS,"","success"),void e.go("home");if(l.token)return void i.holdPolicyWithToken({orderCode:l.orderCode,cardToken:l.token},function(){e.go("product-pay-success",{orderCode:l.orderCode,payResult:2})});e.go("product-pay")}else"id-upload"==t?e.go("product-purchase-confirm"):"manual-audit"==t?e.go("product-purchase-confirm"):e.go("product-purchase-info");else 1==c.testStatus?i.doRisk():e.go("calculate-risk");else 1==o&&c.cretNo&&c.customerName&&c.cretType?i.checkRisk({customer_name:c.customerName,insurer_cer_type:c.cretType,insurer_cer_id:c.cretNo},function(t){1==t?i.doRisk():e.go("calculate-risk")}):e.go("check-identity");else e.go("product-purchase-calculate-"+l.templateCode.toLowerCase());else i.showMobileModal()}else a.info('param "state" is invalid')},this.getCardInfo=function(t,a){if(t){var i={cardToken:t};CommonRequest.request(i,CONFIG.GET_CARD_INFO_SERVICE,function(t){if(1==t.status){if(!t.data)return TipService.showMsg(n.TIPS.PRODUCT.CARD_NOT_EXIST),void e.go("home");if("3"==t.data.cardStatus||"4"==t.data.cardStatus)return TipService.showMsg(n.TIPS.PRODUCT.CARD_UNAVAILABLE),void e.go("home");angular.isFunction(a)&&a(t.data)}})}},this.getProductDiscount=function(e,t){e&&CommonRequest.request(e,CONFIG.PRODUCT_DISCOUNT_SERVICE,function(e){if(1==e.status){var a=e.data;if(a){var n,i=1,s="",o="";"1"==a.hasDiscount&&(i=a.discount?a.discount:1,s=a.disActivityId,o=a.configType),n={discount:i,disActivityId:s,configType:o,hasDiscount:a.hasDiscount},angular.isFunction(t)&&t(n)}}})},this.showMobileModal=function(){t.open({templateUrl:"app/module/product/mobile-modal/mobile-modal.html",controller:"MobileModalController",controllerAs:"mobileModal",size:"md"})},this.doCalc=function(e,t){var a=this;CommonRequest.request(e,CONFIG.PREMIUM_RESULT_SERVICE,function(e){if(1==e.status){var n=e.data.orderCode;n&&a.setSessionData({productData:{orderCode:n}}),angular.isFunction(t)&&t()}})},this.doRisk=function(){var t=this,a=t.getSessionData(),n=a.productData,i=a.userData,s={totalScore:"90",insurer_cer_type:i.cretType,insurer_cer_id:i.cretNo,customer_name:i.customerName,prdId:n.prd_id,orderCode:n.orderCode};CommonRequest.request(s,CONFIG.PRODUCT_RISK_SUBMIT_SERVICE,function(t){1==t.status&&e.go("product-purchase-info")})},this.checkRisk=function(e,t){CommonRequest.request(e,CONFIG.PRODUCT_RISK_SERVICE,function(e){if(1==e.status){var a=e.data.testStatus;angular.isFunction(t)&&t(a)}})},this.getMaterials=function(e,t){CommonRequest.request(e,CONFIG.GET_MATRRIALS_LIST_SERVICE,function(e){if(1==e.status){var a=e.data;a&&a.length>0&&angular.isFunction(t)&&t(a)}})},this.getMaterialsWithoutCache=function(e,t){CommonRequest.requestWithoutCache(e,CONFIG.GET_MATRRIALS_LIST_SERVICE,function(e){if(1==e.status){var a=e.data;a&&a.length>0&&angular.isFunction(t)&&t(a)}})},this.getMaterialDetail=function(e){var t=this,a=[];CommonRequest.request(e,CONFIG.GET_MATRRIAL_DETAIL_SERVICE,function(n){if(1==n.status&&(a=n.data,a&&a.length>0)){for(var s=0;s<a.length;s++)a[s].materialPath=CONFIG.IMAGE_SERVICE_ADDRESS+a[s].materialPath;1==a.length?i.open(a[0].materialPath+""):t.showMaterialModal(e.materialTypeDesc,a)}})},this.showMaterialModal=function(e,a){var n={materialTypeDesc:e,linkGroup:a};t.open({templateUrl:"app/module/product/product-purchase/product-purchase-info/material/material.html",controller:"MaterialController",controllerAs:"material",
size:"md",resolve:{check:function(){return n}}})},this.getCustPhoto=function(e,t){var a=this,n=a.getSessionData().userData;CommonRequest.request({uploadType:e},CONFIG.GET_CUST_CERT_STATUS,function(e){if(1==e.status){var a=e.data,i=[];if(a&&a.length>0){for(var s=0;s<a.length;s++)"2"==a[s].uploadStauts&&i.push({imageFlag:a[s].imageFlag,imagePath:CONFIG.SERVICE_ADDRESS+"CertShow?fileName="+a[s].imageName+"&custId="+(n?n.cusId:"")+"&token="+n.token+"&channelCode="+CONFIG.SALE_CHANNEL});i&&i.length>0&&angular.isFunction(t)&&t(i)}}})},this.showUpload=function(){t.open({templateUrl:"app/module/product/product-purchase/id-upload/id-upload.html",controller:"IDUploadController",controllerAs:"idUpload",size:"md"})},this.CertUploadDone=function(e,t){CommonRequest.request(e,CONFIG.UPLOAD_DONE_SERVICE,function(e){1==e.status?angular.isFunction(t)&&t(!0):a.warn("上传失败！")})},this.isAllowUpload=function(e,t){var a={fileCount:e};CommonRequest.request(a,CONFIG.ALLOW_UPLOAD_SERVICE,function(e){1==e.status&&angular.isFunction(t)&&t()})},this.showTransfer=function(){var e=this,n=e.getSessionData().policyData;if(!n.transferShown){var i=t.open({templateUrl:"app/module/product/product-purchase/transfer/transfer.html",controller:"TransferController",controllerAs:"transfer",size:"md"});i.result.then(function(){n.transferShown=!1},function(){n.transferShown=!1,a.info("Modal dismissed at: "+new Date)})}},this.showManualAudit=function(e){t.open({templateUrl:"app/module/product/product-purchase/manual-audit/manual-audit.html",controller:"ManualAuditController",controllerAs:"manualAudit",size:"md",resolve:{auditParams:function(){return e}}})},this.getDistrict=function(e,t){if(e&&e.prdId){var a,n=e.parentAreaCode,i=e.prdId,s=e.areaLevel,o=e.province;1==s?a={url:"../statics/product/areas/"+i+"/"+i+".json",method:"GET"}:2==s?a={url:"../statics/product/areas/"+i+"/"+n+"/"+i+".json",method:"GET"}:3==s&&(a={url:"../statics/product/areas/"+i+"/"+o+"/"+n+"/"+i+".json",method:"GET"}),CommonRequest.request(e,a,function(e){angular.isFunction(t)&&t(e)})}},this.getStaff=function(e,t){if(e&&e.areaCode){var a,n=e.areaCode;n&&(a={url:"../statics/product/proxys/"+n+".json",method:"GET"}),CommonRequest.request(e,a,function(e){angular.isFunction(t)&&t(e)})}},this.getGroupStaff=function(e,t){e&&e.areaCode&&CommonRequest.request(e,CONFIG.Group_PROXY_SERVCIE,function(e){1==e.status?e.data&&angular.isFunction(t)&&t(e.data):a.warn("虚拟代理人获取失败！")})},this.getNetworks=function(e,t){var a,n=e.netLevel,i=e.parentNetCode,s=e.provinceNet;1==n?a={url:"../statics/product/netpoints/0/netpoint.json",method:"GET"}:2==n?a=a={url:"../statics/product/netpoints/0/"+i+"/netpoint.json",method:"GET"}:3==n&&(a=a={url:"../statics/product/netpoints/0/"+s+"/"+i+"/netpoint.json",method:"GET"}),CommonRequest.request(e,a,function(e){angular.isFunction(t)&&t(e)})},this.createPbApplNo=function(e,t){var n=this,i=n.getSessionData(),s=i.insureData,o=i.productData,r=i.policyData;if(r&&r.PbApplNoList)return void(angular.isFunction(t)&&t(r.PbApplNoList));var l={BkBrchNo:e||r.staffOrgCode||r.BkBrchNo,pbApplNoNum:s.pbApplNoNum,orderCode:o.orderCode};CommonRequest.request(l,CONFIG.CREATE_PB_APPL_NO_SERVICE,function(e){if("1"==e.status){var i=e.data;i&&i.pbApplNoList?(n.setSessionData({policyData:{PbApplNoList:i.pbApplNoList}}),angular.isFunction(t)&&t(i.pbApplNoList)):a.warn("投保单号未生成！")}})},this.checkPolicyNum=0,this.checkPolicy=function(t,a,i){var s=this;t=s.changeParams(t);var o,r,l=s.getSessionData(),c=l.login,u=l.insureData;"group"==a?(o=CONFIG.CHECK_BAIG_POLICY_SERVICE,r=CONFIG.GET_GROUP_POLICY_RESULT_SERVICE):"single"==a?(o=CONFIG.CHECK_POLICY_SERVICE,r=CONFIG.GET_POLICY_RESULT_SERVICE):(o=CONFIG.CHECK_POLICY_AFTERUPLOAD_SERVICE,r=CONFIG.GET_POLICY_RESULT_SERVICE),CommonRequest.request(t,o,function(o){var l,d=o.data;if(d&&(l=d.bkOthRetMsg),1==o.status){if(s.checkPolicyNum++,"single"==a&&CONFIG.CORE_DECOUPLING){if(d&&d.isCheckImage){var p=d.isCheckImage;if("Y"==p&&(n.$broadcast("send-imgCode",{isCheckImgFlag:p}),!t.data.cpImageCode||!t.data.cpRandom))return s.checkPolicyNum=0,void TipService.showMsg("请输入验证码")}else n.$broadcast("send-imgCode",{isCheckImgFlag:"N"});return void(s.checkPolicyNum==u.pbApplNoNum&&(s.checkPolicyNum=0,s.getPolicyResult(r,i)))}if("group"==a&&CONFIG.CORE_GROUP_DECOUPLING)return void(s.checkPolicyNum==u.pbApplNoNum&&(s.checkPolicyNum=0,s.getPolicyResult(r,i)));if(d&&d.hasOwnProperty(g))var g=d.itemOrderRealPayAmt;angular.isFunction(i)&&i(g)}else{TipService.showMsg(l);var m=o.error;if(m&&m.code)if(-1!=m.code.indexOf("44405"))s.showUpload();else if(-1!=m.code.indexOf("44014")){var f=s.getSessionData(),h=f.uploadImgInOrder;h?(TipService.showMsg(m.message,m.code),angular.isFunction(i)&&i()):e.go("product-purchase-confirm")}else-1!=m.code.indexOf("44016")?s.showTransfer():-1!=m.code.indexOf("44018")&&("1"==c?e.go("my-order"):e.go("login"))}})},this.changeParams=function(e){var t={data:{}},a={rcgnList:[],busiList:[]},n={},i={},s={SellTypeDetail:"sellTypeDetail",PbApplNoList:"pbApplNoList",prdId:"prdId",planId:"planId",PbHoldName:"plchdNm",PbHoldSex:"plchdGndCd",PbHoldBirdy:"plchdBrthDt",PbHoldIdType:"plchdCrdtTpCd",PbHoldId:"plchdCrdtNo",PbIdStartDate:"plchdCrdtEfDt",PbIdEndDate:"plchdCrdtExpDt",PbNationality:"plchdNatCd",PbHoldAddr:"plchdCntyAndDstcCd",PbHoldPost:"plchdZipECD",PbHoldOfficTele:"plchdFixTelNo",PbHoldHomeAddr:"plchdCommAdr",PbHoldHomePost:"plchdZipECD",PbHoldHomeTele:"plchdFixTelNo",PbHoldMobl:"plchdMoveTelNo",PbHoldEmail:"plchdEmailAdr",PbHoldOccupCode:"plchdOcpCd",PbHoldRcgnRela:"plchdAndRcgnReTpCd",LiRcgnName:"rcgnNm",LiRcgnSex:"rcgnGndCd",LiRcgnBirdy:"rcgnBrthDt",LiRcgnIdType:"rcgnCrdtTpCd",LiRcgnId:"rcgnCrdtNo",LiIdStartDate:"rcgnCrdtEfDt",LiIdEndDate:"rcgnCrdtExpDt",LiNationality:"rcgnNatCd",LiRcgnAddr:"rcgnCommAdr",LiRcgnPost:"rcgnZipECD",LiRcgnTele:"rcgnFixTelNo",LiRcgnMobl:"rcgnMoveTelNo",LiRcgnEmail:"rcgnEmail",LiRcgnOccupCode:"rcgnOcpCd",PlchdProvCd:"plchdProvCd",PlchdCityCd:"plchdCityCd",PlchdDstcCd:"plchdCntyAndDstcCd",PbOtherProvinceCode:"bnkProvCd",BkBrchNo:"orgCode",PbLivePlace:"rsdntTpCd",PbYearIncome:"plchdYrIncmAm",agentCode:"bOSaleStffID",PbWebsiteCode:"bnkBOCd",PbWebsiteName:"bnkBONm",bankCodeLV1:"lv1BrNo",bankCodeLV2:"lv2BrNo",bankCodeLV3:"lv3BrNo",insScmInf:"insScmInf",PbBenfNum:"benfNum",PbInsuType:"cvrID",PbInsuName:"cvrNm",PbSlipNumb:"insCps",PbInsuExp:"insPremAmt",PbInsuAmt:"insCvr",PbBeginDate:"insPolcyEfDt",PbInsuPayMode:"rnewPyFPyMdCd",LiSpec:"liSpec",LiExpireInsuDrawMode:"expPrmmRcvModCgyCd",PbAutoPayTag:"apntInsPremPyAdvnInd",LiPayOffTag:"rdAmtPyClsInd",PbPayPeriod:"insPremPyFMtdCd",PbPayAgeTag:"insPremPyFPrdNum",PbInsuYearFlag:"insYrPrdCgyCd",LiInsuPeriod:"insDdln",PbInsuYear:"rsrvFld15",PbPayAge:"insPremPyFCycCd",PbDrawAgeTag:"anutyDrwPrdNum",PbDrawAge:"anutyDrwPrdNum",LiImpawnTag:"ivsMtdCd",mainAndAdlInsInd:"mainAndAdlInsInd",BkNum1:"cvrNum",AppdList:"busiList",BkNum2:"tlBkNum",PbApplNo:"insBlPrtNo",BkVchNo:"rsrvFld11",LiInsuSlipPWD:"insPolcyPswd",PiTrfVchNo:"invNo",PiZyzcfs:"dsptPcsgMtdCd",PiZcinst:"dsptArbtrInstNm",PiZxbe20:"minrAcmCvr",PiManBankNo:"rsrvFld12",PbRemark1:"rsrvFld1",PbRemark2:"rsrvFld2",PbRemark3:"rsrvFld3",PbRemark4:"rsrvFld4",PbRemark5:"rsrvFld5",PbRemark6:"insPolcyExpDt",disActId:"disActId",saleChnl:"saleChnl",benfSetType:"benfAndRcgnReTpCd",SpecFlag:"specAuditFlag",PbMainInsuExp:"pbMainInsuExp",PbInsuExpAppd:"pbInsuExpAppd",PbSendMode:"pbSendMode",BkRckrNo:"bkRckrNo",BkAreaNo:"bkAreaNo",PbInsuExp1:"tlAcctCodes",PbInsuExp2:"tlAcctPrices",BankCode:"plchdAccID",BankName:"plchdAccNm",BkAcctNo3:"plchdPyFAccNo",NewPayMode:"newPyFPyMdCd",NewGetAccName:"newPyFAccNm",NewGetBkCode:"newPyFAccBnkCd",NewGetAccCode:"newPyFAccID",LiRenteDrawMode:"svBnfDrwCycCd",AnutyPcsgMtdCd:"anutyPcsgMtdCd",NewGetBkName:"newGetBkName",LiBonusDistbTag:"liBonusDistbTag",LiBonusGetMode:"xtraDvdnPcsgMtdCd",BkAcctNo1:"rcgnAccNo",BkAcctNo2:"benfAccNo",LiHealthTag:"ntfItmInd",updLoanAmt:"updLoanAmt",lnCtrExpDt:"lnCtrExpDt",bnkLoanCtrID:"bnkLoanCtrID",agentName:"bOSaleStffNm",agentOrg:"bOSaleStffOrg",benfNm:"benfNm",rcgnDtlAdrCntnt:"LiRcgnAddr",bankAccount:"plchdPyFAccNo",rcgnCityCd:"PbOtherCityCode",newGetAccName:"newGetAccName",newGetBkCode:"newGetBkCode",referrerCode:"referrerCode",referrerName:"referrerName",beginTime:"beginTime",socialSecurity:"socialSecurity"},o={},r=!1;if(e){for(var l in e)"LiRcgnName"==l||"LiRcgnSex"==l||"LiRcgnBirdy"==l||"LiRcgnIdType"==l||"LiRcgnId"==l||"LiIdStartDate"==l||"LiIdEndDate"==l||"LiNationality"==l||"LiRcgnAddr"==l||"LiRcgnPost"==l||"LiRcgnTele"==l||"LiRcgnMobl"==l||"LiRcgnEmail"==l||"LiRcgnOccupCode"==l||"PbHoldRcgnRela"==l||"rcgnDtlAdrCntnt"==l?n[s[l]]=e[l]:"insScmInf"==l||"PbInsuType"==l||"PbInsuName"==l||"PbSlipNumb"==l||"PbInsuExp"==l||"PbInsuAmt"==l||"PbBeginDate"==l||"LiSpec"==l||"LiExpireInsuDrawMode"==l||"PbAutoPayTag"==l||"LiPayOffTag"==l||"PbPayPeriod"==l||"PbPayAgeTag"==l||"PbInsuYearFlag"==l||"LiInsuPeriod"==l||"PbInsuYear"==l||"PbPayAge"==l||"PbDrawAgeTag"==l||"PbDrawAge"==l||"LiImpawnTag"==l||"BkNum1"==l||"BkNum2"==l||"PbRemark1"==l||"PbRemark2"==l||"PbRemark3"==l||"PbRemark4"==l||"PbRemark5"==l||"PbRemark6"==l||"saleChnl"==l||"disActId"==l||"prdId"==l||"planId"==l||"mainAndAdlInsInd"==l||"LiRenteDrawMode"==l||"AnutyPcsgMtdCd"==l||"updLoanAmt"==l||"lnCtrExpDt"==l||"bnkLoanCtrID"==l||"LiBonusGetMode"==l||"beginTime"==l||"socialSecurity"==l?i[s[l]]=e[l]:"AppdList"==l?(o=e[l],r=!0):s[l]?a[s[l]]=e[l]:a[l]=e[l];if(r){for(var c in i)for(var u=0;u<o.length;u++)o[u][c]||(o[u][c]=i[c]);if(o&&o.length>0)for(var d=0;d<o.length;d++)a.busiList.push(o[d])}a.rcgnList.push(n),a.busiList.push(i)}return t.data=a,t},this.getPolicyResultTimes=0,this.getPolicyResult=function(t,a){var i=angular.element(document).find("#loading");i.show();var s=this;if(s.getPolicyResultTimes++,s.getPolicyResultTimes>CONFIG.CORE_DECOUPLING_TIMES)return i.hide(),s.showResultModal(),s.getPolicyResultTimes=0,void n.$broadcast("get-newimgCode",{result:"true"});var o=s.getSessionData(),r=o.policyData,l=o.insureData,c={orderCode:r.orderCode,expectResultNum:l.pbApplNoNum||1};CommonRequest.request(c,t,function(o){if(1==o.status){var r=o.data,l=r.policyResults;if(!l||0==l.length)return void $timeout(function(){s.getPolicyResult(t,a)},CONFIG.CORE_DECOUPLING_DURATION);i.hide(),s.getPolicyResultTimes=0;var c=r.orderRealPayAmt,u=l[0].bkOthRetMsg||n.TIPS.SYSTEM.REQUEST_ERROR,d=l[0].bkOthRetCode;if("9999"==d){var p=l[0].uploadType,g=l[0].srCode,m=l[0].insureCheckFlg;if(p){var f={uploadType:p,srCode:g,insureCheckFlg:m};s.showManualAudit(f)}return void(u&&TipService.showMsg(u))}if("00000"!=d&&"1"!=d)return"90100179"==d?(u&&TipService.showMsg(u),void n.$on("tip-done",function(){e.go("home")})):(u&&TipService.showMsg(u),void n.$broadcast("get-newimgCode",{result:"true"}));angular.isFunction(a)&&a(c)}else i.hide(),s.getPolicyResultTimes=0,n.$broadcast("get-newimgCode",{result:"true"})},!0)},this.showResultModal=function(){t.open({templateUrl:"app/module/product/product-purchase/policy-result-modal/policy-result-modal.html",controller:"PolicyResultModalController",controllerAs:"policyResultModal",size:"md"})},this.holdPolicy=function(e,t){CommonRequest.request(e,CONFIG.HOLD_POLICY_SERVICE,function(e){var a,n=e.data;if(n&&(a=n.bkOthRetMsg),1==e.status){var i=n.pbInsuSlipNo;TipService.showMsg(a,"","success"),angular.isFunction(t)&&t(i)}else TipService.showMsg(a)})},this.holdPolicyWithToken=function(e,t){CommonRequest.request(e,CONFIG.HOLD_POLICY_WITH_TOKEN_SERVICE,function(e){var a=e.data,i="";a&&(i=a.bkOthRetMsg),1==e.status?(TipService.showMsg(n.TIPS.PRODUCT.HOLD_POLICY_SUCCESS,"","success"),angular.isFunction(t)&&t()):TipService.showMsg(i)})},this.validateEPolicyDownload=function(e,t,a){var n,i=this;angular.element(document).find("#loading");"single"==t?n=CONFIG.VALIDATE_EPOLICY_DOWNLOAD:"group"==t&&(n=CONFIG.GHMB_VALIDATE_GEPOLICY_DOWNLOAD),CommonRequest.request(e,n,function(t){if(1==t.status){var n={policyNo:e.policyNo,keyMD5:t.data.keyMD5};t.data.isEmail;i.isDownloadDone(n,function(){angular.isFunction(a)&&a(t.data)})}})},this.pushEPolicyResultTimes=0,this.isDownloadDone=function(e,t){var a=this,i=angular.element(document).find("#loading");return i.show(),a.pushEPolicyResultTimes++,a.pushEPolicyResultTimes>CONFIG.PUSH_EPOLICY_TIMES?(i.hide(),TipService.showMsg(n.TIPS.SYSTEM.TIMEOUT),void(a.pushEPolicyResultTimes=0)):void CommonRequest.request(e,CONFIG.DOWNLOAD_VALIDATE,function(n){if(i.show(),1!=n.status)return i.hide(),void(a.pushEPolicyResultTimes=0);var s=n.data;0==s?$timeout(function(){a.isDownloadDone(e,t)},CONFIG.PUSH_EPOLICY_DURANTION):(a.pushEPolicyResultTimes=0,angular.isFunction(t)&&t())})}}function PolicyChangeService(e,t,CommonRequest,CONFIG,TipService,$timeout,a){this.changeApply=function(e,t){e.policyNo&&e.editType&&CommonRequest.request(e,CONFIG.PLOICY_CHANGECORE_APPLY_SERVCIE,function(e){if(1==e.status){var a=e.data;a&&("1"==a.isCanUpdate?angular.isFunction(t)&&t(e.data):TipService.showMsg(a.resultDescrpt+" 交易流水号："+a.seriaTransNo))}})},this.benefitAccountDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.BENEFIT_ACCOUNT_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.benefitDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.BENEFIT_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.benefitInfoDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.BENEFITINFO_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.showDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.GET_POLICY_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.riskDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.RISK_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.policyCustomerDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.POLICY_CUSTOMER_DETAIL_EXT_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.policyBusinessCustomerDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.POLICY_BUSINESS_CUSTOMER_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.dutyPremDetail=function(e,t){e.policyNo&&e.riskCode&&CommonRequest.request(e,CONFIG.DUTY_PREM_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.payDetail=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.PAY_DETAIL_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.currentRenewal=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.CURRENT_RENEWAL_INFO_SERVICE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.showRatio=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.INVESTPOLICY_CHANGE_APPLY_SERVCIE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.mulRiskQuery=function(e,t){e.policyNo&&CommonRequest.request(e,CONFIG.MULRISK_QUERY_SERVICE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.payRecord=function(e,t){e.appNo&&CommonRequest.request(e,CONFIG.ORD_PAYRECORD_SERVICE,function(e){1==e.status&&angular.isFunction(t)&&t(e.data)})},this.applyWithdraw=function(e,t){var a=this,n={policyNo:e};CommonRequest.request(n,CONFIG.WITHDRAW_APPLY_SERVICE,function(e){if(1==e.status){var n=e.data.isCanUpdate;if(1==n){var i=e.data.recordId;a.getWithdrawResult(i,function(e){var a=e;angular.isFunction(t)&&t(a)})}}})},this.getWithdrawResultTimes=0,this.getWithdrawResult=function(e,t){var n=angular.element(document).find("#loading");n.show();var i=this,s={recordId:e};return i.getWithdrawResultTimes++,i.getWithdrawResultTimes>CONFIG.CORE_DECOUPLING_TIMES?(n.hide(),TipService.showMsg(a.TIPS.SYSTEM.NETWORK_ERROR),void(i.getWithdrawResultTimes=0)):void CommonRequest.request(s,CONFIG.WITHDRAW_APPLY_RESULT_SERVICE,function(a){if(1==a.status){var s=a.data,o=s.isCanUpdate;if(!o||"2"==o)return void $timeout(function(){i.getWithdrawResult(e,t)},CONFIG.CORE_DECOUPLING_DURATION);i.getWithdrawResultTimes=0,n.hide(),angular.isFunction(t)&&t(a)}else i.getWithdrawResultTimes=0,n.hide()},!0)},this.withdrawConfirm=function(e,t){var a=this;CommonRequest.request(e,CONFIG.POLICY_WITHDRAW_CONFIRM_SERVICE,function(e){if(1==e.status){var n=e.data.isCanUpdate;if(1==n){var i=e.data.recordId;a.withdrawConfirmResult(i,function(e){var a=e;angular.isFunction(t)&&t(a)})}}})},this.policyWithdrawResultTimes=0,this.withdrawConfirmResult=function(e,t){var n=angular.element(document).find("#loading");n.show();var i=this,s={recordId:e};return i.policyWithdrawResultTimes++,i.policyWithdrawResultTimes>CONFIG.CORE_DECOUPLING_TIMES?(n.hide(),TipService.showMsg(a.TIPS.SYSTEM.NETWORK_ERROR),void(i.policyWithdrawResultTimes=0)):void CommonRequest.request(s,CONFIG.POLICY_WITHDRAW_CONFIRM_RESULT_SERVICE,function(a){if(1==a.status){var s=a.data,o=s.isCanUpdate;if(!o||"2"==o)return void $timeout(function(){i.withdrawConfirmResult(e,t)},CONFIG.CORE_DECOUPLING_DURATION);"0"==o&&(i.policyWithdrawResultTimes=0,n.hide(),TipService.showMsg(a.data.resultDescrpt)),i.policyWithdrawResultTimes=0,n.hide(),angular.isFunction(t)&&t(a)}else i.policyWithdrawResultTimes=0,n.hide()},!0)}}function BranchOfficeService(CommonRequest,CONFIG){this.getSpecialBusiness=function(e){var t={};CommonRequest.request(t,CONFIG.SPECIAL_BUSINESS_SERVICE,function(t){1==t.status&&angular.isFunction(e)&&e(t.data)})}}angular.module("app").service("NetworkService",NetworkService).service("CommonRequest",CommonRequest).service("PendingRequestsService",PendingRequestsService).service("TipService",TipService).service("PolicyService",PolicyService).service("PolicyChangeService",PolicyChangeService).service("BranchOfficeService",BranchOfficeService),NetworkService.$inject=["$state","$rootScope","$http","$q","PendingRequestsService","$timeout","CONFIG","TipService"],CommonRequest.$inject=["NetworkService","CONFIG"],PendingRequestsService.$inject=["$rootScope"],TipService.$inject=["$rootScope"],PolicyService.$inject=["$state","$uibModal","$log","CommonRequest","CONFIG","TipService","$rootScope","$window","$timeout"],PolicyChangeService.$inject=["$state","$log","CommonRequest","CONFIG","TipService","$timeout","$rootScope"],BranchOfficeService.$inject=["CommonRequest","CONFIG","TipService"]}(),function(){"use strict";function e(e,t,a,n,i,s,COMMON,$timeout,CONFIG,o,TipService,r){function l(){e.isLogin&&(p=$timeout(o.logout,CONFIG.LOGIN_TIMEOUT))}function c(){p&&($timeout.cancel(p),l())}if(e.COMMON_DATA=COMMON.getCommonData(),$timeout(function(){COMMON.getDictInfo("country",function(t){t&&t.length>0&&(e.COMMON_DATA.NATIONALITIES=t)}),COMMON.getDictInfo("occupations",function(t){t&&t.length>0&&(e.COMMON_DATA.OCCUPATION_CODE=t)})},10),e.TIPS=s.getTips(),e.isLogin=!1,sessionStorage){var u=sessionStorage.getItem("ulife-login");if(1==u){e.isLogin=!0,console.log(e.isLogin),e.userData=angular.fromJson(sessionStorage.getItem("elife-userData"));var d=e.userData.cusId||"";e.spbHref=sessionStorage.getItem("elife-spbHref-"+d)}else t.go("login")}else i.warn("sessionStorage is not working");var p=null;l(),n.onscroll=function(){c()},angular.element(document).on("click",function(){c()});var g=["sale-pubsearch"],m=["login","forget-password"],f=e;f.$on("$stateChangeStart",function(i,s){c(),a.cancelAll();var o=s.name;-1!=g.indexOf(o)?e.isLogin||(t.go("login"),e.loginGo=o):-1!=m.indexOf(o)&&(e.isLogin&&e.userData.realName?(i.preventDefault(),t.go("sale-pubsearch")):e.isLogin&&!e.userData.realName&&sessionStorage&&(sessionStorage.removeItem("ulife-login"),sessionStorage.removeItem("elife-userData"),sessionStorage.removeItem("ulife-loginStatus"))),n.scrollTo(0,0)}),e.dateOptions={showWeeks:!1,formatDayTitle:"yyyy-MM",formatMonth:"M 月"}}angular.module("app").run(e),e.$inject=["$rootScope","$state","PendingRequestsService","$window","$log","TIPS","COMMON","$timeout","CONFIG","LoginService","TipService","PolicyService"]}(),function(){"use strict";function e(e,t){e.state("login",{url:"/home",templateUrl:"app/module/main/main.html",controller:"MainController",controllerAs:"main"}).state("forget-password",{url:"/forget-password",templateUrl:"app/module/forget-password/forget-password.html",controller:"ForgetPasswordController",controllerAs:"forgetPassword"}).state("sale-pubsearch",{url:"/sale-pubsearch",templateUrl:"app/module/main/sale-pubsearch/sale-pubsearch.html",controller:"SalePubsearchController",controllerAs:"salePubsearch"}).state("haveto-change-password",{url:"/haveto/change/password?:username",templateUrl:"app/module/main/haveto-change-password/haveto-change-password.html",controller:"HavetoChangePasswordController",controllerAs:"havetoChangePassword"}),t.otherwise("/home")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(COMMON){return function(e){if(e){for(var t,a=[],n=[],i={},s=0;s<e.length;s++)t=e[s],i[t]||(i[t]=!0,a+=t);a=a.split(",");for(var o=COMMON.getCommonData().PAYMENTS,r=0;r<o.length;r++)for(var l=o[r],c=0;c<a.length;c++)a[c]&&a[c]==l.value&&n.push(l.label);return n=n.toString()}}}function t(){return function(e){return e?0==e?"30天":e+"周岁":void 0}}function a(COMMON){return function(e){for(var t=COMMON.getCommonData().GENDERS,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function n(COMMON){return function(e){for(var t=COMMON.getCommonData().ID_TYPES,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function i(COMMON){return function(e){for(var t=COMMON.getCommonData().RELATIONS,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function s(e){return function(t){for(var a=e.COMMON_DATA.NATIONALITIES,n=0;n<a.length;n++){var i=a[n];if(t==i.value)return i.label}}}function o(COMMON){return function(e){for(var t=COMMON.getCommonData().PAYWAYS,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function r(){return function(e){if(e){var t=e[0],a=t.substr(t.length-1,1);return a}}}function l(){return function(e){return e?Math.round(parseInt(e)/1e4*100)/100:void 0}}function c(COMMON){return function(e){for(var t=COMMON.getCommonData().ORDER_STATUS,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function u(){return function(e){if(e){var t=e.substr(0,3)+"****"+e.substr(7);return t}}}function d(){return function(e){if(e){var t=e[0],a=e[1];if("Y"==a){if(t)return"1000"==t?"终身":t+"年"}else{if("D"==a)return t+"天";if("M"==a)return t+"月";if("A"==a)return t+"岁"}}}}function p(COMMON){return function(e){for(var t=COMMON.getCommonData().BENEFIT_CUST_TYPE,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function g(){return function(e){return"1"==e?e="现金":"2"==e?e="抵交保险费":"4"==e&&(e="累积生息"),e}}function m(){return function(e){if(e){var t=e.trim().split(" ");return t}}}function f(){return function(e){if(e){var t=e[0],a=e[1];if("12"==a){if(t)return t+"年交"}else if("0"==a){if("1"==t)return"趸交"}else{if("1"==a)return"月交";if("3"==a)return"季交";if("6"==a)return"半年交"}}}}function h(COMMON){return function(e){for(var t=COMMON.getCommonData().PAY_STATUS,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function v(COMMON){return function(e){for(var t=COMMON.getCommonData().BENEFIT_ACCOUNT,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function b(e){return function(t){for(var a=e.COMMON_DATA.OCCUPATION_CODE,n=0;n<a.length;n++){var i=a[n];if(t==i.value)return i.label}}}function C(COMMON){return function(e){for(var t=COMMON.getCommonData().BANK_CODE,a=0;a<t.length;a++){var n=t[a];if(e==n.value)return n.label}}}function S(CONFIG){return function(e){return CONFIG.IMAGE_SERVICE_ADDRESS+e}}function I(COMMON){return function(e){for(var t=COMMON.getCommonData().POLICY_QUERY,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function E(COMMON){return function(e){for(var t=COMMON.getCommonData().SALA_CHANNAL,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function P(COMMON){return function(e){for(var t=COMMON.getCommonData().POLICYCHANGE_TYPE,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function w(COMMON){return function(e){for(var t=COMMON.getCommonData().CLAIMS_TYPE,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function N(){return function(e,t){var a=[];if(t){for(var n=0;n<e.length;n++)(e[n].orderCode.indexOf(t)>=0||e[n].prdName.indexOf(t)>=0)&&a.push(e[n]);return a}return e}}function T(){return function(e,t){var a=[];if(t){for(var n=0;n<e.length;n++)(e[n].mainClassName.indexOf(t)>=0||e[n].policyNo.indexOf(t)>=0)&&a.push(e[n]);return a}return e}}function y(){return function(e){if(e){var t;return t=e.length>8?e.substr(0,4)+"****"+e.substr(e.length-4,e.length-1):"****"+e.substr(e.length-4,e.length-1)}}}function D(COMMON){return function(e){for(var t=COMMON.getCommonData().CHANNAL_CODE,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function R(){return function(e){return e&&!isNaN(e)?100*e+"%":e}}function A(COMMON){return function(e){for(var t=COMMON.getCommonData().CLAIMS_ANS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function O(COMMON){return function(e){for(var t=COMMON.getCommonData().CLAIMS_MAIN_STATUS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function _(COMMON){return function(e){for(var t=COMMON.getCommonData().CLAIMS_DETAIL_STATUS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function L(COMMON){return function(e){for(var t=COMMON.getCommonData().POLICY_DETAIL_STATUS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function M(COMMON){return function(e){for(var t=COMMON.getCommonData().CLAIMS_REASON_STATUS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function k(CONFIG){return function(e){return e?"../statics/product/"+CONFIG.SALE_CHANNEL+"/"+e+"/"+e+".html":void 0}}function x(CONFIG){return function(e){return e?"../statics/product/"+CONFIG.SALE_CHANNEL+"/"+e+"/"+e+".json":void 0}}function $(COMMON){return function(e){for(var t=COMMON.getCommonData().HEALTH_TYPE,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}function F(COMMON){return function(e){for(var t=COMMON.getCommonData().RISK_STATUS,a=0;a<t.length;a++)if(e==t[a].value)return t[a].label}}C.$inject=["COMMON"],angular.module("app").filter("paymentFilter",e).filter("ageFilter",t).filter("genderFilter",a).filter("cerFilter",n).filter("relationFilter",i).filter("nationalFilter",s).filter("subStrFilter",r).filter("currencyFormat",l).filter("orderStatusFilter",c).filter("paywayFilter",o).filter("phoneFilter",u).filter("transferFilter",p).filter("benefitFilter",g).filter("descriptionFilter",m).filter("payFilter",f).filter("paystatusFilter",h).filter("benefitaccountFilter",v).filter("occupationFilter",b).filter("imageFix",S).filter("policyQueryFilter",I).filter("salachannalFilter",E).filter("claimTypeFilter",w).filter("orderFilter",N).filter("policyFilter",T).filter("idFilter",y).filter("channalFilter",D).filter("policyChangeFilter",P).filter("percentFilter",R).filter("changeFormatFilter",d).filter("claimsAnsFilter",A).filter("claimsMainStatusFilter",O).filter("claimsDetailStatusFilter",_).filter("claimsReasonStatusFilter",M).filter("policyDetailStatusFilter",L).filter("bankCodeFilter",C).filter("iframeFilter",k).filter("jsonFilter",x).filter("healthTypeFilter",$).filter("riskStatusFilter",F),e.$inject=["COMMON"],t.$inject=["COMMON"],a.$inject=["COMMON"],n.$inject=["COMMON"],i.$inject=["COMMON"],s.$inject=["$rootScope"],l.$inject=[],c.$inject=["COMMON"],o.$inject=["COMMON"],p.$inject=["COMMON"],g.$inject=["COMMON"],h.$inject=["COMMON"],v.$inject=["COMMON"],b.$inject=["$rootScope"],S.$inject=["CONFIG"],I.$inject=["COMMON"],E.$inject=["COMMON"],w.$inject=["COMMON"],D.$inject=["COMMON"],P.$inject=["COMMON"],A.$inject=["COMMON"],O.$inject=["COMMON"],_.$inject=["COMMON"],L.$inject=["COMMON"],M.$inject=["COMMON"],k.$inject=["CONFIG"],x.$inject=["CONFIG"],$.$inject=["COMMON"],F.$inject=["COMMON"]}(),function(){"use strict";function CONFIG(){this.VERSION="3.1.0",this.SALE_CHANNEL="800",this.REQUEST_TIMEOUT=6e4,this.LOGIN_TIMEOUT=18e5,this.TIPS_DURATION=5e3,this.SESSION_TIME=30,this.DOMAIN="https://elife.ccb-life.com.cn",this.SERVICE_ADDRESS=this.DOMAIN+"/elife-a906/",this.CHECK_LOGIN={url:this.SERVICE_ADDRESS+"login/checkLogin",method:"POST"},this.CHANGE_PASSWPRD={url:this.SERVICE_ADDRESS+"login/findPassword",method:"POST"},this.EXIT_LOGIN={url:this.SERVICE_ADDRESS+"login/exit",method:"POST"},this.PASSWPRD_CHANGE={url:this.SERVICE_ADDRESS+"login/passwordChange",method:"POST"},this.LOGIN_EXIT={url:this.SERVICE_ADDRESS+"login/exit",method:"POST"},this.PLATFORMUNLOCK_SEARCHUSER={url:this.SERVICE_ADDRESS+"platformUnlock/searchUser",method:"POST"},this.PLATFORMUNLOCK_RESETPASS={url:this.SERVICE_ADDRESS+"platformUnlock/resetPass",method:"POST"},this.PLATFORMUNLOCK_SAVEUESR={url:this.SERVICE_ADDRESS+"platformUnlock/saveUser",method:"POST"},this.ISSUEDISPOSE_CONDITIONS={url:this.SERVICE_ADDRESS+"issueDispose/conditions",method:"POST"},this.ISSUEDISPOSE_QUERYLSSUEDISPOSEALL={url:this.SERVICE_ADDRESS+"issueDispose/queryIssueDisposeAll",method:"POST"},this.NEWISSUEDISPOSE_QUERYLSSUEDISPOSEALL={url:this.SERVICE_ADDRESS+"new/noteSearch",method:"POST"},this.ISSUEDISPOSE_QUERYHISTORYBYPOLICYNO={url:this.SERVICE_ADDRESS+"issueDispose/queryHistoryByPolicyNo",method:"POST"},this.NEWISSUEDISPOSE_QUERYHISTORYBYPOLICYNO={url:this.SERVICE_ADDRESS+"new/policyDetail",method:"POST"},this.ISSUEDISPOSE_REPLYNOTE={url:this.SERVICE_ADDRESS+"issueDispose/replyNote",method:"POST"},this.NEWISSUEDISPOSE_REPLYNOTE={url:this.SERVICE_ADDRESS+"new/noteReply",method:"POST"},this.SIGNINFO_TORECEIVE={url:this.SERVICE_ADDRESS+"signInfo/toReceive",method:"POST"},this.SIGNINFO_SENDSIGNINFO={url:this.SERVICE_ADDRESS+"signInfo/sendSignInfo",method:"POST"},this.HISTORYSEARCH_CONDITIONS={url:this.SERVICE_ADDRESS+"historySearch/conditions",method:"POST"},this.HISTORYSEARCH_SEARCHPOLICY={url:this.SERVICE_ADDRESS+"historySearch/searchPolicy",method:"POST"},this.NEWHISTORYSEARCH_SEARCHPOLICY={url:this.SERVICE_ADDRESS+"new/hostoryPolicy",method:"POST"},this.NEWQUERYNEWCC_SERVICE={url:this.SERVICE_ADDRESS+"new/queryNewCC",method:"POST"},this.TEL_RETURN_TIP=this.DOMAIN+"/images/onlineReturn/",this.SPE_PRODUCT_LIST_SERVCIE={url:"../statics/json/"+this.SALE_CHANNEL+"/special.json",method:"GET"},this.HOT_PRODUCT_LIST_SERVCIE={url:"../statics/json/"+this.SALE_CHANNEL+"/hotSale.json",method:"GET"},this.GET_DICT_COUNTRY_SERVICE={url:"../statics/json/country.json",method:"GET"},this.GET_DICT_OCCUPATIONS_SERVICE={url:"../statics/json/occupations.json",method:"GET"},this.GET_HOME_AD_SERVICE={url:"../statics/json/homeAd.json",method:"GET"},this.GET_LOGIN_AD_SERVICE={url:"../statics/json/loginAd.json",method:"GET"},this.PRODUCT_LIST_SERVICE={url:"../statics/json/"+this.SALE_CHANNEL+"/productList.json",method:"GET"},this.PRODUCT_RISK_INFO_SERVICE={url:"../statics/json/ProductRiskInfo.json",method:"GET"},this.SESSION_LIST=[{url:this.SERVICE_ADDRESS+"prmadvertisement/queryAdvertisements",sessionName:"Advertisements"},{url:this.SERVICE_ADDRESS+"new/ProductMaterialList",sessionName:"ProductMaterial",requestCode:"prdId"},{url:this.SERVICE_ADDRESS+"new/PrdParentAreaList",sessionName:"PrdParentAreaList",requestCode:"prdId"},{url:this.SERVICE_ADDRESS+"new/PrdChildAreaList",sessionName:"PrdChildAreaList",requestCode:"prdId,parentAreaCode,areaLevel"},{url:this.SERVICE_ADDRESS+"new/sysnetpoint/NetPointList",sessionName:"NetPointList",requestCode:"parentNetCode,netLevel"},{url:this.SERVICE_ADDRESS+"new/sysbank/bankList",sessionName:"bankList",requestCode:"comCode,bankAccountType"},{url:this.SERVICE_ADDRESS+"new/sysarea/Proxy",sessionName:"Proxy",requestCode:"areaCode"},{url:this.SERVICE_ADDRESS+"ProductMaterialDetail",sessionName:"ProductMaterialDetail",requestCode:"materialType,materialTypeDesc,prdId"}]}angular.module("app").service("CONFIG",CONFIG)}(),function(){"use strict";function COMMON(CommonRequest,CONFIG){this.getCommonData=function(){return{TROUBLE_TYPES:[{label:"支付失败",value:"P"}],ID_TYPES:[{label:"身份证",value:"A"},{label:"护照",value:"I"},{label:"港澳台通行证",value:"G"},{label:"外国人永久居留身份证",value:"N"}],NATIONALITIES:[{label:"中国",value:"0156"},{
label:"中国香港",value:"0344"},{label:"中国台湾",value:"0158"},{label:"中国澳门",value:"0446"},{label:"其它地区",value:"0999"}],BANK_CODE:[{label:"建设银行",value:"0000051"},{label:"工商银行",value:"0000021"},{label:"农业银行",value:"0000031"},{label:"中国银行",value:"0000041"},{label:"交通银行",value:"0000061"},{label:"中信银行",value:"0000081"},{label:"招商银行",value:"0000091"},{label:"中国邮政储蓄银行",value:"0000341"}],OCCUPATION_CODE:[{label:"国家机关、党群组织、企业、事业单位负责人",value:"A0000"},{label:"专业技术人员",value:"B0000"},{label:"办事人员和有关人员",value:"C0000"},{label:"商业、服务业人员",value:"D0000"},{label:"农、林、牧、渔、水利业生产人员",value:"E0000"},{label:"生产、运输设备操作人员及有关人员",value:"F0000"}],ID_EXPIRES:[{label:"长期有效",value:"1"},{label:"有效期",value:"2"}],GENDERS:[{label:"男",value:"1"},{label:"女",value:"2"}],RELATIONS:[{label:"本人",value:"01"},{label:"儿子",value:"06"},{label:"女儿",value:"07"}],PAYMENTS:[{label:"不定期交",value:-1},{label:"趸交",value:0},{label:"月交",value:1},{label:"季交",value:3},{label:"半年交",value:6},{label:"年交",value:12},{label:"交至某确定年龄",value:98},{label:"终生交费",value:99}],PAYWAYS:[{label:"通联支付",value:"01"},{label:"建行网银",value:"02"},{label:"微信",value:"03"},{label:"授权转账",value:"109"}],ACCOUNT_ESTANLISH:[{label:"生效后立即建立",value:1},{label:"犹豫期后建立",value:2}],DISTRICT:[{label:"城镇",value:"0"},{label:"农村",value:"1"}],DISPUTESHANGING:[{label:"诉讼向被告住所地的人民法院起诉",value:1},{label:"提交仲裁委员会仲裁",value:2}],WITHDRAW:[{label:"缴费压力大",value:1},{label:"急需用钱",value:2},{label:"保障不满意",value:3},{label:"收益不满意",value:4},{label:"对代理人服务不满意",value:5},{label:"对公司服务不满意",value:6},{label:"家人不支持",value:7},{label:"其它",value:8}],ORDER_STATUS:[{label:"草稿",value:1},{label:"资料审核中",value:5},{label:"待核保",value:10},{label:"提交核保中",value:11},{label:"核保通过",value:12},{label:"待人工审核",value:13},{label:"人工审核中",value:14},{label:"核保不通过",value:15},{label:"自核不通过待资料上传",value:16},{label:"支付中",value:21},{label:"支付成功",value:22},{label:"支付失败",value:23},{label:"承保中",value:31},{label:"承保成功",value:32},{label:"承保失败",value:33},{label:"订单失效",value:41},{label:"订单取消",value:42},{label:"核保已完成",value:110},{label:"待人工核保",value:111},{label:"不需人工核保",value:112}],PAY_STATUS:[{label:"支付中",value:1},{label:"支付成功",value:2},{label:"支付失败",value:3}],BENEFIT_ACCOUNT:[{label:"现金",value:1},{label:"抵缴保费",value:2},{label:"累积生息",value:4}],POLICY_QUERY:[{label:"变更申请",value:"1"},{label:"受理中",value:"2"},{label:"受理失败",value:"3"},{label:"受理成功",value:"4"},{label:"受理成功转账中",value:"5"},{label:"转账成功",value:"6"},{label:"转账失败",value:"7"}],SALA_CHANNAL:[{label:"代理人营销",value:"1"},{label:"团体代理",value:"2"},{label:"银行代理",value:"3"},{label:"经纪代理",value:"7"},{label:"网络销售",value:"8"},{label:"高端代理",value:"9"},{label:"经代业务",value:"A"},{label:"银保业务",value:"B"},{label:"个人业务",value:"P"},{label:"电销业务",value:"T"}],CLAIMS_TYPE:[{label:"意外医疗",value:"100"},{label:"意外伤残",value:"101"},{label:"意外死亡",value:"102"},{label:"意外高残",value:"103"},{label:"意外大病",value:"104"},{label:"意外特种疾病",value:"105"},{label:"意外失业失能",value:"106"},{label:"意外生命末期",value:"107"},{label:"意外豁免",value:"109"},{label:"疾病医疗",value:"200"},{label:"疾病伤残",value:"201"},{label:"疾病死亡",value:"202"},{label:"疾病高残",value:"203"},{label:"疾病大病",value:"204"},{label:"疾病特种疾病",value:"205"},{label:"疾病失业失能",value:"206"},{label:"疾病生命末期",value:"207"},{label:"疾病豁免",value:"209"}],BENEFIT_CUST_TYPE:[{label:"生存金",value:"0"},{label:"身故金",value:"1"},{label:"红利金",value:"2"},{label:"满期金",value:"3"},{label:"年金",value:"5"},{label:"贺喜金",value:"6"}],CHANNAL_CODE:[{label:"官网",value:"800"},{label:"网销手工单",value:"801"},{label:"建行网银",value:"802"},{label:"建行手机银行",value:"803"},{label:"建行自助终端",value:"804"},{label:"导入件",value:"805"},{label:"悦生活",value:"808"},{label:"微信",value:"811"},{label:"手机悦生活",value:"812"},{label:"建信人寿手机APP",value:"813"},{label:"招财宝",value:"814"},{label:"代理人营销",value:"1"},{label:"电销B通道",value:"12"},{label:"电销业务",value:"T"},{label:"高端代理",value:"9"},{label:"个人业务",value:"P"},{label:"经代业务",value:"A"},{label:"经纪代理",value:"7"},{label:"团体代理",value:"2"},{label:"网络销售",value:"8"},{label:"银保业务",value:"B"},{label:"银行代理",value:"3"}],POLICYCHANGE_TYPE:[{label:"联系方式变更",value:"CD"},{label:"续期银行账号变更",value:"PC"},{label:"给付授权账号变更",value:"GC"},{label:"保期逾期未付选择变更",value:"AP"},{label:"红利选择权变更",value:"BM"},{label:"定时定额追加保险费",value:"FP"},{label:"投连账户转换",value:"TI"},{label:"投资比例变更",value:"PA"},{label:"退保",value:"CT"},{label:"撤单",value:"WXCD"},{label:"不同意续保变更",value:"BX"},{label:"保单质押贷款",value:"LN"},{label:"客户证件信息变更",value:"CM"},{label:"增补告知",value:"HI"},{label:"客户信息授权变更",value:"CA"},{label:"万能险部分领取",value:"OP"},{label:"增加保额",value:"AA"},{label:"万能险追加保费",value:"AM"},{label:"特殊复效",value:"SR"},{label:"恢复交费",value:"HJ"},{label:"争议处理方式变更",value:"DC"},{label:"保险费溢缴转下期的选择变更",value:"ON"},{label:"复缴",value:"TR"},{label:"新增附加险",value:"NS"},{label:"复效",value:"RE"},{label:"减额付清",value:"PU"},{label:"保单还款",value:"RF"},{label:"保险费缴付方式变更",value:"FQ"},{label:"缴费年期变更",value:"FT"},{label:"险种变更",value:"RC"},{label:"公司解约",value:"EA"},{label:"投保人职业变更",value:"AO"},{label:"投保人变更",value:"AE"},{label:"受益人变更",value:"BC"},{label:"被保人职业变更",value:"IO"},{label:"补发保单",value:"LR"},{label:"减少保额",value:"PT"},{label:"协议退保",value:"XT"},{label:"签名变更",value:"PS"},{label:"投连险部分领取",value:"AR"},{label:"投连险追加保费",value:"IP"},{label:"计划别变更",value:"CL"},{label:"年金领取方式变更",value:"YG"},{label:"自垫回退",value:"BA"},{label:"税延离职转保留",value:"LB"},{label:"税延提前领取",value:"TL"},{label:"保单移出",value:"SO"},{label:"税延险种变更",value:"XC"},{label:"保险金领取",value:"LQ"},{label:"保险金领取方式变更",value:"LC"},{label:"稅延犹豫期退保",value:"ST"},{label:"投保单位信息变更",value:"TN"},{label:"保全强制撤销",value:"ZY"},{label:"单位信息变更",value:"UC"},{label:"冻结保单",value:"DJ  "},{label:"给付审核",value:"LA"},{label:"客户信息授权变更",value:"CA"},{label:"身份证号批量升级",value:"SJ"}],CLAIMS_ANS:[{label:"给付",value:"0"},{label:"拒付",value:"1"},{label:"暂缓处理",value:"3"}],CLAIMS_MAIN_STATUS:[{label:"申请",value:"2"},{label:"审核中",value:"1"},{label:"结案",value:"0"}],CLAIMS_DETAIL_STATUS:[{label:"赔付",value:"0"},{label:"拒付",value:"1"},{label:"暂缓处理",value:"3"},{label:"撤件",value:"2"}],CHECK_ORDER_BY_DAY:[{label:"全部",value:"0"},{label:"一周内",value:"7"},{label:"近一个月",value:"30"},{label:"近三个月",value:"90"},{label:"一年内",value:"365"}],POLICY_DETAIL_STATUS:[{label:"有效-缴费期内",value:"101"},{label:"有效-缴费期满",value:"102"},{label:"有效-APL垫满",value:"103"},{label:"有效-APL中",value:"104"},{label:"有效-减额交清",value:"105"},{label:"有效-保费豁免",value:"106"},{label:"有效-生命末期",value:"107"},{label:"有效-自动缓交",value:"108"},{label:"有效-离职转保留",value:"109"},{label:"有效-银行质押贷款",value:"110"},{label:"停效-未经APL停效",value:"201"},{label:"停效-APL结束停效",value:"202"},{label:"停效-中断APL停效",value:"203"},{label:"停效-贷款停效",value:"204"},{label:"终止-理赔(死亡)",value:"301"},{label:"终止-理赔(全残)",value:"302"},{label:"终止-理赔(重疾)",value:"303"},{label:"终止-理赔(生命末期)",value:"304"},{label:"终止-满期",value:"305"},{label:"终止-客户退保",value:"306"},{label:"终止-公司解约",value:"307"},{label:"终止-失效终止",value:"308"},{label:"终止-提前领取",value:"309"},{label:"终止—保单移出",value:"310"},{label:"无效-拒绝投保",value:"401"},{label:"无效-延期投保",value:"402"},{label:"无效-取消投保",value:"403"},{label:"无效-犹豫期退保",value:"404"},{label:"无效-当日撤单",value:"405"},{label:"有效",value:"1"},{label:"有效-转入保单",value:"2"},{label:"有效-待转出",value:"3"},{label:"有效-宽限期内",value:"4"},{label:"失效中止",value:"5"},{label:"终止-转出终止",value:"6"},{label:"终止-解约终止",value:"7"},{label:"终止-理赔终止",value:"8"},{label:"终止-失效终止",value:"9"},{label:"终止-满期终止",value:"10"},{label:"满期未终止",value:"11"},{label:"有效-司法冻结",value:"111"},{label:"有效-临时冻结",value:"112"},{label:"停效-临时冻结",value:"205"}],CLAIMS_REASON_STATUS:[{label:"意外",value:"1"},{label:"疾病",value:"2"}],HEALTH_TYPE:[{label:"犹退",value:"WT"},{label:"管理费",value:"GL"},{label:"风险保费",value:"RP"},{label:"利息",value:"LX"},{label:"扣除退保费用",value:"HL"},{label:"解约管理费",value:"TM"},{label:"差额返还",value:"TA"},{label:"保费",value:"BF"},{label:"解约",value:"CT"},{label:"转出",value:"ZC"}],RISK_STATUS:[{label:"投保",value:"0"},{label:"承保有效",value:"1"},{label:"失效中止",value:"2"},{label:"终止",value:"3"},{label:"失效险种",value:"4"},{label:"承保撤销",value:"5"}]}},this.getNationalitiesByCertType=function(e){for(var t=this,a=t.getCommonData().NATIONALITIES,n=[],i=0;i<a.length;i++){if("A"==e){n=t.getNationalitiesByCode("0156");break}if("I"==e||"N"==e){n=t.getNationalitiesByCode("0999");break}if("G"==e){n=t.getNationalitiesByCode("0344");break}}return n},this.getNationalitiesByCode=function(e){for(var t=this,a=t.getCommonData().NATIONALITIES,n=[],i=0;i<a.length;i++){var s=a[i];if("0344"==e)("0344"==s.value||"0158"==s.value||"0446"==s.value)&&n.push(s);else if(e==s.value){n.push(s);break}}return n},this.getCertTypesByNationality=function(e){var t=[];return e||(t=this.getCommonData().ID_TYPES),t="0156"==e?[{label:"身份证",value:"A"}]:"0999"==e?[{label:"护照",value:"I"},{label:"外国人永久居留身份证",value:"N"}]:[{label:"港澳台通行证",value:"G"}]},this.getCertTypesByCode=function(e){for(var t=this,a=t.getCommonData().ID_TYPES,n=[],i=0;i<a.length;i++){var s=a[i];if(e==s.value){n.push(s);break}}return n},this.getCommonBank=function(e,t,a){var n={comCode:e,bankAccountType:t},i={url:"../statics/product/banks/"+e+"_"+t+".json",method:"GET"};CommonRequest.request(n,i,function(e){var t=e;t&&t.length>0&&angular.isFunction(a)&&a(e)})},this.getDictInfo=function(e,t){var a={typeCode:e};"country"==e?CommonRequest.request(a,CONFIG.GET_DICT_COUNTRY_SERVICE,function(e){if(1==e.status){var a=e.data,n=[];if(a&&a.length>0)for(var i=a.length-1;i>=0;i--){var s=a[i];n.push({label:s.dictName,value:s.dictCode})}angular.isFunction(t)&&t(n)}}):"occupations"==e&&CommonRequest.request(a,CONFIG.GET_DICT_OCCUPATIONS_SERVICE,function(e){if(1==e.status){var a=e.data,n=[];if(a&&a.length>0)for(var i=a.length-1;i>=0;i--){var s=a[i];n.push({label:s.dictName,value:s.dictCode})}angular.isFunction(t)&&t(n)}})}}angular.module("app").service("COMMON",COMMON),COMMON.$inject=["CommonRequest","CONFIG"]}(),angular.module("app").run(["$templateCache",function(e){e.put("app/components/banner/banner.html","<div class=\"carousel banner\" ng-swipe-right=banner.prev() ng-swipe-left=banner.next() ng-style=\"{height:height+'px'}\" ng-mouseover=banner.pause() ng-mouseleave=banner.play()><ol class=carousel-indicators ng-show=\"slides.length > 1\"><li ng-repeat=\"slide in slides track by $index\" ng-class=\"{active: banner.currentIndex==$index}\" ng-click=banner.select($index)></li></ol><div class=carousel-inner ng-repeat=\"slide in slides\" ng-style='{\"background-color\":slide.background}' ng-class='{\"item-active\":slide.active}'><div class=carousel-item ng-style=\"{width:slide.width+'px'}\"><a href={{slide.url}} style=\"background-image: url('{{slide.path}}')\"></a><div ng-if=slide.isPresale class=presale-timer><p><banner-timer startdate={{slide.startDate}} nowdate={{slide.nowDate}}></banner-timer></p><span>建信人寿凌晨01:00开始倒计时</span></div></div><div ng-transclude style=position:absolute ng-style=\"{right:banner.right+'px'}\"></div></div><!-- <a class='left carousel-control' ng-click='banner.prev()' ng-show='slides.length > 1'><span class='glyphicon glyphicon-chevron-left'></span></a>\n    <a class='right carousel-control' ng-click='banner.next()' ng-show='slides.length > 1'><span class='glyphicon glyphicon-chevron-right'></span></a> --></div>"),e.put("app/components/common-flow/common-flow.html","<div class=set-padding><div class=common-flow><div class=steps><div class=step ng-repeat=\"step in steps\" ng-class=\"{'active':current>=$index+1}\" ng-style=\"{'left':(($index)/(steps.length-1)*100)+'%'}\"><div class=blank-space><div class=num><span></span></div></div><div class=text><div class=number>{{$index+1}}</div>{{step.text}}</div></div></div><div class=line><div class=percent ng-style=\"{'width':(current-1)/(steps.length-1)*100+'%'}\"></div></div></div></div>"),e.put("app/components/footer/footer.html",'<div class=footer><div class="links clearfix"><div class=wrapper><div class=elife-serve><dl><dt>用户指南</dt><dd><a ui-sref=help-questions>常见问题</a></dd><dd><a href=http://www.ccb-life.com.cn/wd/197.shtml target=_blank>注册流程</a></dd><dd><a href=http://www.ccb-life.com.cn/grkh/khfw/jbfw/lpfw/54.shtml target=_blank>理赔程序</a></dd><dd><a href=http://www.ccb-life.com.cn/grkh/khfw/jbfw/xzzx/index.shtml target=_blank>下载中心</a></dd></dl><dl><dt>保险服务</dt><dd><a ui-sref=my-policy>保单自助查询</a></dd><dd><a ui-sref=policy-service>保单自助服务</a></dd><dd><a href=http://www.ccb-life.com.cn/grkh/khfw/zzfw/index.shtml target=_blank>增值服务</a></dd></dl><dl><dt>保险讲堂</dt><dd><a ui-sref=help-class>保险术语介绍</a></dd><dd><a ui-sref=help-class>服务案例</a></dd></dl><dl><dt>友情链接</dt><dd><a href=http://www.ccb.com>中国建设银行</a></dd><dd><a href=http://www.circ.gov.cn>保监会</a></dd></dl><dl><dt>关于我们</dt><dd><a href=http://www.ccb-life.com.cn/gywm/gsjs/gsjj/index.shtml target=_blank>公司简介</a></dd><dd><a href=http://www.ccb-life.com.cn/gywm/gsjs/gslc/index.shtml target=_blank>公司历程</a></dd><dd><a href=http://www.ccb-life.com.cn/gywm/ppzx/sjpp/index.shtml target=_blank>公司品牌</a></dd><dd><a href=http://www.ccb-life.com.cn/gywm/qywh/index.shtml target=_blank>企业文化</a></dd></dl></div><div class=elife-wx><div class=wx-img><img src=assets/images/common/wx.png></div><div class=wx-title>微信公众号</div></div></div></div><div class=copyrights><p class=tc><a href="http://www.ccb-life.com.cn/wd/18.shtml?timestamp=1478688485726" target=_blank>法律声明</a>&nbsp;<span>|</span>&nbsp;<a href="http://www.ccb-life.com.cn/wd/19.shtml?timestamp=1478688501763" target=_blank>安全说明</a></p><p>版权所有 © 建信人寿保险股份有限公司 未经许可不得复制、转载或摘编，违者必究!</p><p>经营许可证编号：沪ICP备17044175号-1 沪公网安备：31011502015841</p><p>本网站已支持IPv6</p></div></div><div class=sc-layer><div class=sc-enter>客户服务</div><div class=sc-links><a ui-sref=help-online><i class=icon-online></i>在线服务</a> <a ui-sref=help-service><i class=icon-hotline></i>热线电话</a> <a ui-sref=help-service><i class=icon-remotelink></i>可视远程链接</a> <a id=trouble-report><i class=icon-report></i>故障投报</a> <span class=arrow></span></div></div>'),e.put("app/components/forget-password-state/forget-password-state.html",'<div class="registerProgress register wrapper"><div class=registerProgressPic><div class="fl text-center progress-re mr90" ng-class="{\'active\': flow==1,\'finish\':flow>1}"><p><span class=num>1</span>&nbsp;账户信息</p></div><div class="fl text-center progress-re mr90" ng-class="{\'active\': flow==2,\'finish\':flow>2}"><p><span class=num>2</span>&nbsp;重置密码</p></div><div class="fl text-center progress-re" ng-class="{ \'active\': flow==3 ,\'finish\':flow>3}"><p><span class=num>3</span>&nbsp;完成设置</p></div></div></div>'),e.put("app/components/hc-menu/hc-menu.html","<div class=sidemenu><div class=menu-title><h2>客服中心</h2></div><ul><li><a ui-sref=help-service ng-class=\"{'active':flow==1}\"><i class=menu-icon-customerservice></i>客户服务</a></li><li><a ui-sref=help-questions ng-class=\"{'active':flow==2}\"><i class=menu-icon-query></i>常见问题</a></li><li><a ui-sref=help-online ng-class=\"{'active':flow==3}\"><i class=menu-icon-learn></i>在线咨询</a></li><li><a ui-sref=help-about ng-class=\"{'active':flow==4}\"><i class=menu-icon-aboutus></i>关于我们</a></li><li><a ui-sref=help-class ng-class=\"{'active':flow==5}\"><i class=menu-icon-learnclass></i>保险讲堂</a></li><li><a ui-sref=help-guide ng-class=\"{'active':flow==6}\"><i class=menu-icon-guide></i>投保指南</a></li><li><a ui-sref=help-network ng-class=\"{'active':flow==7}\"><i class=menu-icon-networkservice></i>网点服务</a></li></ul></div>"),e.put("app/components/insurance-flow/insurance-flow.html",'<div class="insurance-flow clearfix"><div class=flow1 ng-class="{\'active\':flow>=1}"><div class=clearfix><div class=flow-line1></div><div class=flow-circle><div class=flow-circle-min></div></div><div class=flow-line2></div></div><div class="flow-font mar-left1"><div class=flow-num>1</div><div class=flow-notice>填写投保信息</div></div></div><div class=flow2 ng-class="{\'active\':flow>=2}"><div class=clearfix><div class=flow-circle><div class=flow-circle-min></div></div><div class=flow-line2></div></div><div class="flow-font mar-left2"><div class=flow-num>2</div><div class=flow-notice>确认信息</div></div></div><div class=flow2 ng-class="{\'active\':flow>=3}"><div class=clearfix><div class=flow-circle><div class=flow-circle-min></div></div><div class=flow-line2></div></div><div class="flow-font mar-left2"><div class=flow-num>3</div><div class=flow-notice>支付</div></div></div><div class=flow3 ng-class="{\'active\':flow>=4}"><div class=clearfix><div class=flow-circle><div class=flow-circle-min></div></div><div class=flow-line1></div></div><div class="flow-font mar-left2"><div class=flow-num>4</div><div class=flow-notice>投保成功</div></div></div></div>'),e.put("app/components/header/header.html",'<div class=topbar><div class=wrapper><div class=left-links><a href=http://www.ccb-life.com.cn/ target=_blank>建信人寿官网</a><!-- <div ng-if="!isLogin" ng-click="header.wechatLogin()" class="wechat fr"></div> --></div><div class=right-links ng-if=!isLogin><span>|</span> <a href=javascript:; ng-click=header.favor()>收藏本站</a></div><div class=right-links ng-if=isLogin><a ui-sref=user>欢迎您回来</a>&nbsp;&nbsp; <span>|</span> <a href=javascript:; ng-click=header.favor()>收藏本站</a></div></div></div><div class=header><div class=wrapper><h1 class=hide>建信人寿</h1><div class=logo><a ui-sref=home><img src=assets/images/common/logo.png></a><div class=call></div></div></div></div>'),e.put("app/components/insurance-tips/insurance-tips.html",'<!-- <div class="insurance-tips">\n	<div class="wrapper">\n		<div class="tips-title">保险小知识</div>\n		<ul>\n			<li><a href="#/"><i class="tips-icon1"></i>养老险</a></li>\n			<li><a href="#/"><i class="tips-icon2"></i>健康医疗险</a></li>\n			<li><a href="#/"><i class="tips-icon3"></i>少儿险</a></li>\n			<li><a href="#/"><i class="tips-icon4"></i>投连险</a></li>\n			<li><a href="#/"><i class="tips-icon5"></i>旅游险</a></li>\n			<li><a href="#/"><i class="tips-icon6"></i>团体险</a></li>\n		</ul>\n	</div>\n</div> -->'),e.put("app/components/navbar/navbar.html",'<nav class=nav-bar><div class=wrapper><ul class=nav><li><a href=/elife/#/home ng-class="{\'active\':flow==0}"><i class=nav-icon-home></i>首页</a></li><li><a href="/elife/#/product/list/tag=5" ng-class="{\'active\':flow==5}"><i class=nav-icon-health></i>健康寿险</a></li><li><a href="/elife/#/product/list/tag=2" ng-class="{\'active\':flow==2}"><i class=nav-icon-travel></i>旅行保障</a></li><li><a href="/elife/#/product/list/tag=4" ng-class="{\'active\':flow==4}"><i class=nav-icon-old></i>养老年金</a></li><li><a href="/elife/#/product/list/tag=3" ng-class="{\'active\':flow==3}"><i class=nav-icon-education></i>少儿保险</a></li><li><a href="/elife/#/product/list/tag=1" ng-class="{\'active\':flow==1}"><i class=nav-icon-invest></i>财富管理</a></li><!-- <li>\n                <a ui-sref="product-list({tag:6})" ng-class="{\'active\':flow==6}"><i class="nav-icon-team"></i>团体保险</a>\n            </li> --><li><a href=/elife/#/login class=link-a ng-class="{\'active\':flow==7}"><i class=nav-icon-ucenter></i>客户中心</a></li></ul></div></nav>'),e.put("app/components/uc-menu/uc-menu.html",'<div class=sidemenu><div class=menu-title><h2>客户中心</h2></div><ul><li><a ui-sref=my-order ng-class="{\'active\':flow==6}"><i class=menu-icon-myorder></i>我的订单</a></li><li><a ui-sref=my-policy ng-class="{\'active\':flow==1}"><i class=menu-icon-mypolicy></i>我的保单</a></li><li><a ui-sref=policy-service ng-class="{\'active\':flow==2}"><i class=menu-icon-policyservice></i>保单服务</a></li><li><a ui-sref=policy-change-query ng-class="{\'active\':flow==3}"><i class=menu-icon-policychangequery></i>保全进度查询</a></li><li><a ui-sref=claims ng-class="{\'active\':flow==4}"><i class=menu-icon-claims></i>理赔进度查询</a></li><li><a ui-sref=my-info ng-class="{\'active\':flow==7}"><i class=menu-icon-myinfo></i>个人资料</a></li><li><a ui-sref=my-contacts ng-class="{\'active\':flow==5}"><i class=menu-icon-mycontacts></i>常用联系人</a></li><li><a ui-sref=security ng-class="{\'active\':flow==8}"><i class=menu-icon-security></i>账户安全</a></li><!-- <li><a ui-sref="my-message" ng-class="{\'active\':flow==9}"><i class="menu-icon-mymessage"></i>我的消息</a></li> --><li ng-if=spbHref><a ng-href={{spbHref}}><i class=menu-icon-specialbusiness></i>分公司特色业务</a></li></ul></div>'),e.put("app/module/forget-password/forget-password.html",'<header></header><acme-navbar flow=0></acme-navbar><form class=top-form name=forgrtPasswordForm><div class=center-content><!-- 标题栏 --><div class=content-border><div class=info-border><!-- 图片 --> <img src=assets/images/common/find-password.gif><!-- title --><p class=info-title>请认真填写以下信息 ,以便找回密码！（带"<span class=red-text>*</span>"项目为必填）</p></div></div><!-- 输入信息栏 --><div class=check-password-content><!-- 用户名 --><div class=input-border><p class=input-tags><span class=red-text>* </span>用户名：</p><input class=input-type ng-model=forgetPassword.username type="" name="" required invalid-string-check></div><!-- 手机号 --><div class=input-border><p class=input-tags><span class=red-text>* </span>手机号码：</p><input class=input-type name=mobile ng-model=forgetPassword.mobile phone-check required><!-- 输入非法手机号，提示错误信息 --><div class=mistake-text ng-show=forgrtPasswordForm.mobile.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>请输入正确手机格式</div></div><!-- 验证码栏 --><div class="input-border top-mar"><!-- 验证码输入框 --><p class=input-tags><span class=red-text>* </span>验证码：</p><input class=img-input ng-model=forgetPassword.validCode name="" maxlength=6 required invalid-string-check><!-- 验证码图片 --> <img class=image-code ng-src={{forgetPassword.imgpath}}><!-- 点击更换验证码图片 --> <a class=change-img ng-click=forgetPassword.getimg()>看不清楚？换张图片</a></div><!-- 点击按钮调取接口，更改密码 --> <button class=confirm-buttom ng-disabled=forgetPassword.nextStep ng-click=forgetPassword.changePassword()>提 交</button><!-- 点击返回按钮回到主页面 --> <button class=confirm-buttom ng-click=forgetPassword.goBack()>返 回</button></div></div></form><insurance-tips></insurance-tips><footer></footer>'),e.put("app/module/main/main.html",'<header></header><acme-navbar flow=0></acme-navbar><form class=common-form name=mainForm><div class=center-content><!-- 平台标题图片 --> <img class=content-title src=assets/images/common/cotenttitle.png><div class=user-num><!-- 输入证件号栏 --> <span class=user-num-text>证件号</span> <input class=user-num-input type=text placeholder=请输入证件号 ng-model=main.username name=username required invalid-string-check><!-- 如输入工号不合法，显示提示信息 --><div class="error-text orange" ng-show=mainForm.username.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div><div class=pass-word><!-- 输入密码栏 --> <span class=user-num-text>密 码</span> <input class=user-num-input type=password ng-model=main.password autocomplete=off required><!-- 点击忘记密码跳转页面 --> <a class=forget-password ng-click=main.forgetPassword()>忘记密码？</a></div><div class=pass-word><!-- 验证码栏 --> <span class=user-num-text>验证码</span><!-- 输入验证码 --> <input class=image-code-input type=text name=code ng-model=main.validCode maxlength=6 required invalid-string-check><!-- 验证码图片 --> <img class=image-code ng-src={{main.imgpath}}><!-- 点击更换验证码 --> <a class=change-img ng-click=main.getimg()>看不清楚？换张图片</a><!-- 输入验证码不合法时,提示错误信息 --><div class="error-text orange" ng-show=mainForm.code.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div><!-- 登入按钮 点击调取接口验证身份信息 --> <button class=enter-button ng-disabled="main.nextStep && mainForm.$invalid" ng-click=main.checkPassword()>登 录</button></div></form><insurance-tips></insurance-tips><footer></footer>'),e.put("app/module/main/haveto-change-password/haveto-change-password.html",'<header></header><acme-navbar flow=0></acme-navbar><div class="center-content have-bottom"><!-- 密码管理-title --><p class="func-title have-width">密码管理<span class="red-text have-left">请修改初始密码</span></p><table class=common-tab-haveto><tr><!-- 旧密码栏位 --><td class=common-nav><span class=red-text>*</span>旧密码：</td><!-- 输入框 --><td class=common-input><input ng-model=havetoChangePassword.oldPassword type=password></td></tr><tr><!-- 新密码栏位 --><td class=common-nav><span class=red-text>*</span>新密码：</td><!-- 输入框 --><td class=common-input><input ng-model=havetoChangePassword.newPassword type=password></td></tr><tr><!-- 确认密码栏位 --><td class=common-nav><span class=red-text>*</span>再次确认密码：</td><!-- 输入框 --><td class=common-input><input ng-model=havetoChangePassword.newPasswordConfirm type=password name="" oncopy="return false" onpaste="return false"></td></tr></table><div class=common-button-box><!-- 点击按钮调取接口修改密码 --> <button class=first-button ng-click=havetoChangePassword.passwordChange()>确定</button><!-- 点击充值清空用户已输入信息 --> <button class=next-button ng-click=havetoChangePassword.resetChangePasswordInfo()>重置</button></div></div><insurance-tips></insurance-tips><footer></footer>'),e.put("app/module/main/new-contract-info/new-contract-info.html",'<div class=common-modal-title><h4>当前轨迹</h4></div><div class=common-modal-content><div class=form-content><table class=problem-handle-tab><!-- 显示信息字段 --><tr><td>处理时间</td><td>客户姓名</td><td>呼出结果</td><td>处理人</td><td>外拨电话</td><td>备注</td></tr><!-- 返显对应信息 --><tr ng-repeat="infotext in newContractInfo.historyPolicyList"><td>{{infotext.makeDate}}</td><td>{{infotext.customerName}}</td><td>{{infotext.outResult}}</td><td>{{infotext.operator}}</td><td>{{infotext.telephone}}</td><td>{{infotext.comment}}</td></tr></table><!-- 提示信息 --><p class=red-text>注：外拨电话为对应结案状态的最后一次外呼电话</p><!-- 点击关闭当前页面 --> <button class=problemHandleButton ng-click=newContractInfo.close()>关闭</button></div></div>'),e.put("app/module/main/problem-handle-confirm/problem-handle-confirm.html","<div class=common-modal-title><h4>当前轨迹</h4></div><div class=common-modal-content><div class=form-content><table class=problem-handle-tab><!-- 显示信息字段 --><tr><td>处理时间</td><td>客户姓名</td><td>呼出结果</td><td>处理人</td><td>外拨电话</td><td>备注</td></tr><!-- 返显对应信息 --><tr ng-repeat=\"infotext in problemHandleConfirm.historyPolicyList\"><td>{{infotext.makeDate}}</td><td>{{infotext.customerName}}</td><td>{{infotext.outResult}}</td><td>{{infotext.operator}}</td><td>{{infotext.telephone}}</td><td>{{infotext.comment}}</td></tr></table><!-- 提示信息 --><p class=red-text>注：外拨电话为对应结案状态的最后一次外呼电话</p><!-- 选择回复情况 --><div>处理回复：<select ng-model=problemHandleConfirm.type><option value=1>问题件已处理，继续回访</option><option value=0>问题件已处理，预约回访</option></select><!-- 备注栏 --> 备注： <input ng-model=problemHandleConfirm.remark type=text name=\"\"></div><div class=search-line-three ng-if=\"problemHandleConfirm.type == '0'\"><!-- 选择承保开始日期 --> <span>开始时间：</span> <input id=startTime type=text ng-model=problemHandleConfirm.StartTime> <img src=../../ulife/datePicker/skin/datePicker.gif onclick=\"WdatePicker({el:startTime,dateFmt:'yyyy-MM-dd HH:mm',minDate:'%y-%M-%d %H:%m',maxDate:'%y-%M-{%d+2} %H:%m',isShowClear:false,readOnly:true})\" width=16 height=22 align=absmiddle><!-- 选择承保结束日期 --> <span>结束时间：</span> <input id=endTime type=text ng-model=problemHandleConfirm.StartTime> <img src=../../ulife/datePicker/skin/datePicker.gif onclick=\"WdatePicker({el:endTime,dateFmt:'yyyy-MM-dd HH:mm',minDate:'%y-%M-%d %H:%m',maxDate:'%y-%M-{%d+2} %H:%m',isShowClear:false,readOnly:true})\" width=16 height=22 align=absmiddle></div><!-- 点击调取接口提交恢复 --> <button class=problemHandleButton ng-click=problemHandleConfirm.replyNote()>提交回复</button><!-- 点击关闭当前页面 --> <button class=problemHandleButton ng-click=problemHandleConfirm.close()>取消回复</button></div></div>"),e.put("app/module/main/sale-pubsearch/sale-pubsearch.html",'<header></header><acme-navbar flow=0></acme-navbar><div class=center-contont><!-- 点击退出按钮弹出提示框 --><div class=alert-tip-info ng-if=salePubsearch.alertInfoForShow><p><i class="glyphicon glyphicon-exclamation-sign orange"></i>是否确认退出</p><!-- 点击取消按钮隐藏提示框 --> <button ng-click=salePubsearch.loginExitCancel()>取消</button><!-- 点击确定按钮调取退出接口 --> <button ng-click=salePubsearch.loginExit() class=alert-next-button>确定</button></div><!-- 侧边导航栏 --><div class=search-nav ng-if=salePubsearch.asideNavForShow><table class=left-nav><tr class=nav-header><td><span class=nav-titie>公共查询平台</span></td></tr><!-- 点击平台解锁栏显示解锁相关内容--><tr class=nav-content ng-if="salePubsearch.agenctType==\'1\'"><!-- 调取相关接口 --><td ng-click="salePubsearch.changeCenterContent(\'1\')"><!-- 显示图片与文字 --> <img class=nav-logo src=assets/images/common/exit.gif>平台解锁</td></tr><!-- 点击新契约栏显示新契约相关内容 --><tr class=nav-content ng-if="salePubsearch.agenctType==\'2\'"><!-- 调取相关接口 --><td ng-click="salePubsearch.changeCenterContent(\'2\')"><!-- 显示图片与文字 --> <img class=nav-logo src=assets/images/common/new-qiyue.gif>新契约回访历史查询</td></tr><!-- 点击签收条栏显示签收条相关内容--><!-- <tr class="nav-content" ng-if="salePubsearch.agenctType==\'2\'"> \r\n                调取相关接口   \r\n                <td ng-click="salePubsearch.changeCenterContent(\'3\')">\r\n                    显示图片与文字\r\n                    <img class="nav-logo" src="assets/images/common/answer.gif">签收条自助回复\r\n                </td>\r\n            </tr> --><!-- 点击问题件栏显示问题件相关内容--><tr class=nav-content ng-if="salePubsearch.agenctType!=\'1\'"><!-- 调取相关接口 --><td ng-click="salePubsearch.changeCenterContent(\'4\')"><!-- 显示图片与文字 --> <img class=nav-logo src=assets/images/common/problem.gif>问题件处理回复</td></tr><!-- 点击密码修改栏显示问题件相关内容--><tr class=nav-content><!-- 调取相关接口 --><td ng-click="salePubsearch.changeCenterContent(\'5\')"><!-- 显示图片与文字 --> <img class=nav-logo src=assets/images/common/change_passwrod.gif>密码修改</td></tr><tr class=nav-content><!-- 调取退出平台相关接口 --><td ng-click=salePubsearch.loginExitConfirm()><!-- 显示图片与文字 --> <img class=nav-logo src=assets/images/common/exit.gif>退出平台</td></tr></table></div><!-- 控制侧边栏显示的展开/隐藏按钮 点击对应按钮控制侧边栏以及对应按钮显示/隐藏 --><!-- 点击隐藏侧边栏 --> <img src=assets/images/common/show_button.jpg ng-if=!salePubsearch.asideNavForShow ng-click=salePubsearch.hideAsideNav()><!-- 点击显示侧边栏 --> <img ng-if=salePubsearch.asideNavForShow ng-click=salePubsearch.hideAsideNav() src=assets/images/common/hide_button.jpg><!-- 公共作业平台相关功能显示区域 --><div id=center-box class=search-info><!-- 刚登入平台显示欢迎文字以及登入会员 --><p class=welcome-text ng-if=salePubsearch.loginJust>欢迎登陆公共平台查询系统，{{salePubsearch.realName}}</p><!-- 显示平台解锁功能 --><div class=search-box ng-if="salePubsearch.funcForShow==\'1\'"><!-- title --><p class=func-title>平台解锁</p><!-- 未解锁情况下显示平台解锁身份验证页面 --><div><table class=common-tab><!-- 姓名栏 --><tr><td class=common-nav>姓名：</td><td class=common-input><input ng-model=salePubsearch.pingName></td></tr><!-- 工号栏 --><tr><td class=common-nav>工号：</td><td class=common-input><input ng-model=salePubsearch.pingUserCode></td></tr><!-- 身份证号栏 --><tr><td class=common-nav>身份证号：</td><td class=common-input><input ng-model=salePubsearch.pingId></td></tr><!-- 身份验证成功显示锁定功能 --><tr ng-if=!salePubsearch.platformUnlock><td class=common-nav>是否锁定：</td><td class=common-select><select ng-model=salePubsearch.enabled><option ng-selected="salePubsearch.enabled==1" value=1>是</option><option ng-selected="salePubsearch.enabled==2" value=2>否</option></select></td></tr></table><!-- 点击确定按钮调取接口验证身份信息 --><div class=common-button-box ng-if=salePubsearch.platformUnlock><button class=first-button ng-click=salePubsearch.searchUser()>确定</button> <button class=next-button ng-click=salePubsearch.clearSearchUser()>重置</button></div><!-- 身份验证成功显示存档，重置密码功能 --><div class=common-button-box ng-if=!salePubsearch.platformUnlock><!-- 点击调取接口存档 --> <button class=platformUnlock-button ng-click="salePubsearch.platFormUnlockServe(\'2\')">存档</button><!-- 点击调去接口重置密码 --> <button class=platformUnlock-button ng-click="salePubsearch.platFormUnlockServe(\'1\')">重置密码</button><!-- 点击清空用户以输入信息 --> <button class=platformUnlock-button ng-click="salePubsearch.platFormUnlockServe(\'3\')">取消</button></div></div></div><div class=search-box ng-if="salePubsearch.funcForShow==\'2\'"><!-- 新契约回访历史查询 --><p class=fuc-title>新契约回访历史查询</p><div class=problem-search-content><div class=search-line-one><!-- 姓名栏 --><div><p>姓名：</p><select ng-model=salePubsearch.newMyName name=newContractNsame ng-options="a as a.realName for a in salePubsearch.newResultNameList"></select></div><!-- 工号栏 --><div><p>工号：</p><select ng-model=salePubsearch.newContractUserCode name=newContractUserCode ng-options="a as a.userCode for a in salePubsearch.newContractInfo" ng-change="salePubsearch.changeSearchInfoForShow(salePubsearch.newContractUserCode,\'contract\')"></select></div></div><div class=search-line-two><!-- 网点栏 --><div><p>网点：</p><select ng-model=salePubsearch.newContractWebsite name=newContractWebsite ng-options="a as a.website for a in salePubsearch.newContractInfo" ng-change="salePubsearch.changeSearchInfoForShow(salePubsearch.newContractWebsite,\'contract\')"></select></div><!-- 保单号栏 --><div><p>保单号：</p><input ng-model=salePubsearch.newContractProductNo></div></div><div class=search-line-three><!-- 选择承保开始日期 --><div class=date-input-box><p>承保开始日期：</p><div class="input-group new-style"><input type=text class=form-control uib-datepicker-popup ng-model=salePubsearch.newContractStartTime is-open=start.opened datepicker-options=dateOptions ng-required=true current-text=今日 clear-text=清除 close-text=关闭 min-date=salePubsearch.minStartTime max-date=salePubsearch.maxStartTime readonly required> <span class=input-group-btn><button type=button class="btn btn-default btn-heigth calender-btn" ng-class="{\'calender-btn-checked\':start.opened==true}" ng-click="start.opened = true"><i class=calendar-image></i></button></span></div></div><!-- 选择承保结束日期 --><div class=date-input-box><p>承保结束日期：</p><div class="input-group new-style"><input type=text class=form-control uib-datepicker-popup ng-model=salePubsearch.newContractEndTime is-open=end.opened datepicker-options=dateOptions ng-required=true current-text=今日 clear-text=清除 close-text=关闭 min-date=salePubsearch.minendTime max-date=salePubsearch.maxendTime readonly required> <span class=input-group-btn><button type=button class="btn btn-default btn-heigth calender-btn" ng-class="{\'calender-btn-checked\':end.opened==true}" ng-click="end.opened = true"><i class=calendar-image></i></button></span></div></div><!-- 点击查询按钮调取接口 --> <button class=problem-search-button ng-click="salePubsearch.queryIssueDisposeAll(\'contract\')">查询</button></div><!-- 查询结果显示区域 --><div class=problem-search-tab-box><table class=problem-search-tab><!-- 显示信息 --><tr><td>保单号码</td><td>客户姓名</td><td>险种名称</td><td>当前呼出结果</td><td ng-if="newQueryNewCC == \'Y\'">结案状态</td><td>承保时间</td><td>发单时间</td><td>签收时间</td><td>最后一次处理时间</td><td>支行</td><td>网点名称</td><td>是否发送信函</td><td>业务人员工号</td><td>业务人员姓名</td><td>操作</td></tr><!-- 无保单信息是显示提示文字 --><tr class=problem-search-information ng-if=!salePubsearch.problemPolicyList><td class=null-info-style colspan=15>没有保单信息</td></tr><!-- 显示信息对应结果，通过接口返回数据返显 --><tr class=problem-search-information ng-repeat="p in salePubsearch.problemPolicyList" ng-if=salePubsearch.problemPolicyList><td>{{p.productno}}</td><td>{{p.customername}}</td><td>{{p.printman}}</td><td>{{p.resultid}}</td><td ng-if="newQueryNewCC == \'Y\'">{{p.datastateid}}</td><td>{{p.signdate}}</td><td>{{p.issusdt}}</td><td>{{p.getpoldate}}</td><td>{{p.lastdealtime}}</td><td>{{p.bankname}}</td><!-- 特殊显示 红色 --><td class=red-text>{{p.agentgroup}}</td><td>{{p.sendflag}}</td><td>{{p.agentcode}}</td><td>{{p.agentname}}</td><!-- <td>{{p. agentname}}</td> --><!-- 问题件处理，点击弹出页面，并传递对应单号值 --><td><button class=problem-handle-button ng-click=salePubsearch.seeNewContractHtml(p.productno)>查看</button></td></tr></table><!-- 分页功能 --><!-- <div class="tc">\r\n                        <ul uib-pagination total-items="salePubsearch.totalItems" ng-model="salePubsearch.currentPage" items-per-page="salePubsearch.itemPerPage" class="pagination-sm" boundary-link-numbers="true" rotate="false" first-text="首页" previous-text="上一页" next-text="下一页" last-text="尾页" ng-change="salePubsearch.changePage()"></ul>\r\n                    </div> --></div><div class="tc page-div"><span class=page-span>每页显示<select class=page-select ng-model=salePubsearch.showPage name=showPage ng-options="a as a for a in salePubsearch.pageList" ng-change=salePubsearch.changePage()></select>条记录</span> <span class="page-span ml10">共<span>{{salePubsearch.totalItems}}</span>条记录</span> <span class="page-span ml10">第<span>{{(salePubsearch.problemPolicyList == \'\') || !salePubsearch.problemPolicyList ? \'0\' : salePubsearch.currentPage}}</span>页</span> <span class=page-span>/共<span>{{salePubsearch.totalPage}}</span>页</span><div class=page-spanr>转到<input class=page-input ng-model=salePubsearch.jumpPageNo>页<button class="problem-search-button page-button" ng-click=salePubsearch.jumpPage()>跳转</button></div><!-- <uib-pagination  total-items="salePubsearch.totalItems"  ng-model="salePubsearch.currentPage" items-per-page=\'salePubsearch.showPage\'  boundary-link-numbers="true" force-ellipses="true" first-text="首页" num-pages="salePubsearch.totalPage" previous-text="上一页" next-text="下一页" last-text="尾页" ng-change="salePubsearch.changePage()"></<uib-pagination> --><ul uib-pager total-items=salePubsearch.totalItems ng-model=salePubsearch.currentPage items-per-page=salePubsearch.showPage num-pages=salePubsearch.totalPage previous-text=上一页 next-text=下一页 ng-change=salePubsearch.changePage() align=false></ul></div></div></div><div class=search-box ng-if="salePubsearch.funcForShow==\'3\'"><!-- 签收条自动回复部分 --><p class=func-title>签收条自助回复</p><table class="common-tab receive-tab"><!-- 保单号栏 --><tr><td class=common-nav><span class=red-text>*</span>请输入保单号：</td><td class=common-input><input ng-model=salePubsearch.receivePolicyNo></td></tr><!-- 确认保单号栏 --><tr><td class=common-nav><span class=red-text>*</span>请重新输入保单号：</td><td class=common-input><input ng-model=salePubsearch.receiveConfirmPolicyNo></td></tr></table><!-- 选择签收日期 --><div class=receive-box><p class=receive-date-label><span class=red-text>*</span>客户签收日期：</p><div class=receive-date-input><div class=input-group><input type=text class=form-control uib-datepicker-popup ng-model=salePubsearch.receiveDate name=receivedate is-open=receivedate.opened datepicker-options=dateOptions ng-required=true current-text=今日 clear-text=清除 close-text=关闭 min-date=salePubsearch.minReceiveDate max-date=salePubsearch.maxReceiveDate readonly required> <span class=input-group-btn><button type=button class="btn btn-default btn-heigth" ng-click="receivedate.opened = true"><i class=calendar-image></i></button></span></div></div></div><p class=receive-bottom-text>为保障客户权益，请确保自助签收条回复信息的准确性，签收条自助回复时间为 9:00-20:00；</p><div class=common-button-box><!-- 点击按钮调取接口确认回复 --> <button class=first-button ng-disabled=salePubsearch.sendSignInfoButton ng-click=salePubsearch.sendSignInfo()>确认回复</button><!-- 点击按钮清空用户已输入信息 --> <button class=long-width-button ng-click=salePubsearch.resetignInfo()>回复其他保单</button></div></div><!-- 问题件相关功能显示区域 --><div class=search-box ng-if="salePubsearch.funcForShow==\'4\'"><!-- TITLE --><p class=fuc-title>问题件处理回复</p><!-- 功能区域 --><div class=problem-search-content><div class=search-line-one><!-- 姓名栏 通过调取接口获取数据返显 --><div><p>姓名：</p><select ng-model=salePubsearch.problemMyName name=problemSearchName ng-options="a as a.realName for a in salePubsearch.newProblemNameList"></select></div><!-- 工号栏 通过调取接口获取数据返显 --><div><p>工号：</p><!-- 当选择工号发生变化时，网点对应变化，实现联动 --><select ng-model=salePubsearch.problemSearchUserCode name=problemSearchUserCode ng-options="a as a.userCode for a in salePubsearch.problemSearchInfo" ng-change="salePubsearch.changeSearchInfoForShow(salePubsearch.problemSearchUserCode,\'search\')"></select></div></div><div class=search-line-two><!-- 网点栏 通过调取接口获取数据返显 --><div><p>网点：</p><!-- 当选择网点发生变化时，工号对应变化，实现联动 --><select class=long-width-select ng-model=salePubsearch.problemSearchWebsite name=problemSearchWebsite ng-options="a as a.website for a in salePubsearch.problemSearchInfo" ng-change="salePubsearch.changeSearchInfoForShow(salePubsearch.problemSearchWebsite,\'search\')"></select></div><!-- 保单号，用户自行输入 --><div><p>保单号：</p><input ng-model=salePubsearch.problemSearchProductNo></div></div><!-- 选择开始/结束日期控件 --><div class=search-line-three><div class=date-input-box><p>承保开始日期：</p><!-- 开始日期控件 --><div class="input-group new-style"><input type=text class=form-control uib-datepicker-popup ng-model=salePubsearch.problemSearchStartTime is-open=start.opened datepicker-options=dateOptions ng-required=true current-text=今日 clear-text=清除 close-text=关闭 min-date=salePubsearch.minStartTime max-date=salePubsearch.maxStartTime readonly required> <span class=input-group-btn><button type=button class="btn btn-default btn-heigth calender-btn" ng-class="{\'calender-btn-checked\':start.opened==true}" ng-click="start.opened = true"><i class=calendar-image></i></button></span></div></div><div class=date-input-box><p>承保结束日期：</p>.<!-- 结束日期控件 --><div class="input-group new-style"><input type=text class=form-control uib-datepicker-popup ng-model=salePubsearch.problemSearchEndTime is-open=end.opened datepicker-options=dateOptions ng-required=true current-text=今日 clear-text=清除 close-text=关闭 min-date=salePubsearch.minendTime max-date=salePubsearch.maxendTime readonly required> <span class=input-group-btn><button type=button class="btn btn-default btn-heigth calender-btn" ng-class="{\'calender-btn-checked\':end.opened==true}" ng-click="end.opened = true"><i class=calendar-image></i></button></span></div></div><!-- 点击查询按钮调取接口 --> <button class=problem-search-button ng-click="salePubsearch.queryIssueDisposeAll(\'search\')">查询</button></div><!-- 查询结果显示区域 --><div class=problem-search-tab-box><table class=problem-search-tab><!-- 显示信息 --><tr><td>保单号码</td><td>渠道</td><td>客户姓名</td><td>险种名称</td><td>保单生效日期</td><td>保单签收日期</td><td>进档时间</td><td>联系电话</td><td>当前呼出结果</td><td ng-if="newQueryNewCC == \'Y\'">结案状态</td><td>临近犹豫期</td><td>支行</td><td>网点</td><td>业务人员工号</td><td>业务人员姓名</td><td>操作</td></tr><!-- 无保单信息是显示提示文字 --><tr class=problem-search-information ng-if="(salePubsearch.problemPolicyList == \'\') || !salePubsearch.problemPolicyList"><td class=null-info-style colspan=15>没有保单信息</td></tr><!-- 显示信息对应结果，通过接口返回数据返显 --><tr class=problem-search-information ng-repeat="p in salePubsearch.problemPolicyList track by $index" ng-if=salePubsearch.problemPolicyList><td>{{p.productno}}</td><td>{{p.channel}}</td><td>{{p.customername}}</td><td>{{p.printman}}</td><td>{{p.cvalidate}}</td><td>{{p.getpoldate}}</td><td>{{p.inserttime}}</td><td><ul><!-- 遍历手机号 --><li ng-repeat="q in p.problemTelArr track by $index">{{q.tel}}</li></ul></td><td>{{p.datastateid}}</td><td ng-if="newQueryNewCC == \'Y\'">{{p.callResult}}</td><!-- 特殊显示 红色 --><td class=red-text>{{p.efficiency}}</td><td>{{p.bankname}}</td><td>{{p.agentgroup}}</td><td>{{p.agentcode}}</td><td>{{p.agentname}}</td><!-- 问题件处理，点击弹出页面，并传递对应单号值 --><td><button class=problem-handle-button ng-click=salePubsearch.showProblemConfirmHtml(p.noteid,p.productno,p.agentcode)>问题件处理</button></td></tr></table><!-- 分页功能 --><!-- <div class="tc">\r\n                        <ul uib-pagination total-items="salePubsearch.totalItems" ng-model="salePubsearch.currentPage" items-per-page="salePubsearch.itemPerPage" class="pagination-sm" boundary-link-numbers="true" rotate="false" first-text="首页" previous-text="上一页" next-text="下一页" last-text="尾页" ng-change="salePubsearch.changePage()"></ul>\r\n                    </div> --></div><div class="tc page-div"><span class=page-span>每页显示<select class=page-select ng-model=salePubsearch.showPage name=showPage ng-options="a as a for a in salePubsearch.pageList" ng-change=salePubsearch.changePage()></select>条记录</span> <span class="page-span ml10">共<span>{{salePubsearch.totalItems}}</span>条记录</span> <span class="page-span ml10">第<span>{{(salePubsearch.problemPolicyList == \'\') || !salePubsearch.problemPolicyList ? \'0\' : salePubsearch.currentPage}}</span>页</span> <span class=page-span>/共<span>{{salePubsearch.totalPage}}</span>页</span><div class=page-spanr>转到<input class=page-input ng-model=salePubsearch.jumpPageNo>页<button class="problem-search-button page-button" ng-click=salePubsearch.jumpPage()>跳转</button></div><!-- <uib-pagination  total-items="salePubsearch.totalItems"  ng-model="salePubsearch.currentPage" items-per-page=\'salePubsearch.showPage\'  boundary-link-numbers="true" force-ellipses="true" first-text="首页" num-pages="salePubsearch.totalPage" previous-text="上一页" next-text="下一页" last-text="尾页" ng-change="salePubsearch.changePage()"></<uib-pagination> --><ul uib-pager total-items=salePubsearch.totalItems ng-model=salePubsearch.currentPage items-per-page=salePubsearch.showPage num-pages=salePubsearch.totalPage previous-text=上一页 next-text=下一页 ng-change=salePubsearch.changePage() align=false></ul></div></div></div><!-- 密码管理功能部分 --><div class=search-box ng-if="salePubsearch.funcForShow==\'5\'"><p class=func-title>密码管理</p><table class=common-tab><!-- 旧密码栏 --><tr><td class=common-nav><span class=red-text>*</span>旧密码：</td><td class=common-input><input ng-model=salePubsearch.oldPassword type=password name=""></td></tr><!-- 新密码栏 --><tr><td class=common-nav><span class=red-text>*</span>新密码：</td><td class=common-input><input ng-model=salePubsearch.newPassword type=password name=""></td></tr><!-- 确定密码栏 --><tr><td class=common-nav><span class=red-text>*</span>再次确定密码：</td><td class=common-input><input ng-model=salePubsearch.newPasswordConfirm type=password name="" oncopy="return false" onpaste="return false"></td></tr></table><div class=common-button-box><!-- 点击确定调取接口更改密码 --> <button class=first-button ng-click=salePubsearch.passwordChange()>确定</button><!-- 点击按钮清空用户已输入信息 --> <button class=next-button ng-click=salePubsearch.resetChangePasswordInfo()>重置</button></div></div></div></div><insurance-tips></insurance-tips><footer></footer>'),
e.put("app/module/user/login/login/login.html",'<header></header><div class=login><div class=bg><a href={{login.bgLink}}><img ng-src={{login.loginBg}}></a></div><div class="wrapper login-container"><div class=login-block><ul class=login-tab><li ng-class="{\'active\':login.tab==1}" ng-click=login.tabSwitch(1)>账号密码登录<i></i></li><li ng-class="{\'active\':login.tab==2}" ng-click=login.tabSwitch(2)>手机动态密码登录<i></i></li></ul><form class="common-form form-horizontal" role=form name=loginForm novalidate><div ng-if="login.tab==1"><div class="form-group row" ng-class="{\'has-error\':(login.username&&loginForm.username.$invalid)}"><input class="form-control common-input-text login-input-user" name=username ng-model=login.username type=text placeholder=请输入证件号 maxlength=30 autocomplete=off required invalid-string-check> <span class=placeholder ng-show=!login.username>请输入证件号</span><div class="error-text orange" ng-show=loginForm.username.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div><div class="form-group row" ng-class="{\'has-error\':(login.password&&loginForm.password.$invalid)}"><input class="form-control common-input-text login-input-pwd" name=password ng-model=login.password type=password placeholder=请输入密码 maxlength=30 autocomplete=off required> <span class=placeholder ng-show=!login.password>请输入密码</span><div class="error-text orange" ng-show=loginForm.password.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div><div class="form-group row" ng-class="{\'has-error\':(login.code&&loginForm.code.$invalid)}"><div class=input-group><input class="form-control common-input-text login-input-code" name=code ng-model=login.code type=text placeholder=请输入图形验证码 maxlength=6 required invalid-string-check> <span class="placeholder noicon" ng-show=!login.code>请输入图形验证码</span> <img ng-src={{login.imgpath}} ng-click=login.getimg()><div class="clear error-text orange" ng-show=loginForm.code.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div></div></div><div ng-if="login.tab==2"><div class="form-group row" ng-class="{\'has-error\':(login.phone&&loginForm.phone.$invalid)}"><input class="form-control common-input-text" name=phone ng-model=login.phone type=text placeholder=请输入手机号 maxlength=11 autocomplete=off required phone-check> <span class="placeholder noicon" ng-show=!login.phone>请输入手机号</span><div class="error-text orange" ng-show=loginForm.phone.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.PHONE_INVALID}}</div></div><div class="form-group row" ng-class="{\'has-error\':(login.code&&loginForm.code.$invalid)}"><div class=input-group><input class="form-control common-input-text login-input-code" name=code ng-model=login.code type=text placeholder=请输入图形验证码 maxlength=6 required invalid-string-check> <span class="placeholder noicon" ng-show=!login.code>请输入图形验证码</span> <img ng-src={{login.imgpath}} ng-click=login.getimg()><div class="clear error-text orange" ng-show=loginForm.code.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div></div><div class="form-group row" ng-class="{\'has-error\':(login.phoneCode&&loginForm.phoneCode.$invalid)}"><div class=input-group><input class="form-control common-input-text login-input-code" name=phoneCode ng-model=login.phoneCode type=text placeholder=请输入手机验证码 maxlength=6 required invalid-string-check> <span class="placeholder noicon" ng-show=!login.phoneCode>请输入手机验证码</span> <button class="btn common-btn btn-blue btn-min" security-code duration=60 ng-disabled="loginForm.phone.$invalid || loginForm.code.$invalid" mobileno={{login.phone}} imagecode={{login.code}} random={{login.random}} txcode={{login.txCode}}>免费获取</button><div class="error-text orange" ng-show=loginForm.phoneCode.$error.invalid><i class="glyphicon glyphicon-exclamation-sign"></i>{{TIPS.COMMON.INVALID_STRING}}</div></div></div></div><div class="form-group row fs14"><a class=fl ui-sref=get-userinfo>忘记登录密码?</a> <a class="fr blue" ui-sref=register>立即注册&gt;</a></div><div class="form-group row"><button class="btn common-btn btn-blue btn-fullwidth" ng-click=login.submit() ng-disabled="requestLoading || !loginForm.$valid">{{requestLoading ? \'登 录 中 . . .\' : \'登 录\'}}</button></div><!-- <div class="form-group row wechat"><p class="fl">选择以下方式登录：</p><div class="we-chat fr"\n                 ng-click="login.wechatLogin()"></div></div> --></form></div></div></div><footer></footer>')}]);
//# sourceMappingURL=../maps/scripts/app-f3d8b3adc0.js.map
